(()=>{var __webpack_modules__={782:(t,e)=>{"use strict";e.JQ=function(t){for(var e,r=t.length,i=r%3,o=[],s=16383,a=0,l=r-i;a<l;a+=s)o.push(u(t,a,a+s>l?l:a+s));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},699:function(t){
/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.0.8/LICENSE */
t.exports=function(){"use strict";function t(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var e=Object.hasOwnProperty,n=Object.setPrototypeOf,r=Object.isFrozen,i=Object.freeze,o=Object.seal,s=Object.create,a="undefined"!=typeof Reflect&&Reflect,l=a.apply,u=a.construct;l||(l=function(t,e,n){return t.apply(e,n)}),i||(i=function(t){return t}),o||(o=function(t){return t}),u||(u=function(e,n){return new(Function.prototype.bind.apply(e,[null].concat(t(n))))});var c=w(Array.prototype.forEach),p=w(Array.prototype.pop),d=w(Array.prototype.push),h=w(String.prototype.toLowerCase),f=w(String.prototype.match),m=w(String.prototype.replace),_=w(String.prototype.indexOf),y=w(String.prototype.trim),g=w(RegExp.prototype.test),b=v(TypeError);function w(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return l(t,e,r)}}function v(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return u(t,n)}}function S(t,e){n&&n(t,null);for(var i=e.length;i--;){var o=e[i];if("string"==typeof o){var s=h(o);s!==o&&(r(e)||(e[i]=s),o=s)}t[o]=!0}return t}function A(t){var n=s(null),r=void 0;for(r in t)l(e,t,[r])&&(n[r]=t[r]);return n}var O=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),x=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),N=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),E=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),k=i(["#text"]),T=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),M=i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),L=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),R=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),I=o(/\{\{[\s\S]*|[\s\S]*\}\}/gm),B=o(/<%[\s\S]*|[\s\S]*%>/gm),C=o(/^data-[\-\w.\u00B7-\uFFFF]/),D=o(/^aria-[\-\w]+$/),P=o(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),U=o(/^(?:\w+script|data):/i),F=o(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function H(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var j=function(){return"undefined"==typeof window?null:window},X=function(t,e){if("object"!==(void 0===t?"undefined":z(t))||"function"!=typeof t.createPolicy)return null;var n=null,r="data-tt-policy-suffix";e.currentScript&&e.currentScript.hasAttribute(r)&&(n=e.currentScript.getAttribute(r));var i="dompurify"+(n?"#"+n:"");try{return t.createPolicy(i,{createHTML:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function V(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j(),e=function(t){return V(t)};if(e.version="2.1.1",e.removed=[],!t||!t.document||9!==t.document.nodeType)return e.isSupported=!1,e;var n=t.document,r=t.document,o=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,l=t.NodeFilter,u=t.NamedNodeMap,w=void 0===u?t.NamedNodeMap||t.MozNamedAttrMap:u,v=t.Text,G=t.Comment,W=t.DOMParser,$=t.trustedTypes;if("function"==typeof s){var Y=r.createElement("template");Y.content&&Y.content.ownerDocument&&(r=Y.content.ownerDocument)}var q=X($,n),J=q&&kt?q.createHTML(""):"",K=r,Q=K.implementation,Z=K.createNodeIterator,tt=K.getElementsByTagName,et=K.createDocumentFragment,nt=n.importNode,rt={};try{rt=A(r).documentMode?r.documentMode:{}}catch(t){}var it={};e.isSupported=Q&&void 0!==Q.createHTMLDocument&&9!==rt;var ot=I,st=B,at=C,lt=D,ut=U,ct=F,pt=P,dt=null,ht=S({},[].concat(H(O),H(x),H(N),H(E),H(k))),ft=null,mt=S({},[].concat(H(T),H(M),H(L),H(R))),_t=null,yt=null,gt=!0,bt=!0,wt=!1,vt=!1,St=!1,At=!1,Ot=!1,xt=!1,Nt=!1,Et=!1,kt=!1,Tt=!0,Mt=!0,Lt=!1,Rt={},It=S({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),Bt=null,Ct=S({},["audio","video","img","source","image","track"]),Dt=null,Pt=S({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ut=null,Ft=r.createElement("form"),zt=function(t){Ut&&Ut===t||(t&&"object"===(void 0===t?"undefined":z(t))||(t={}),t=A(t),dt="ALLOWED_TAGS"in t?S({},t.ALLOWED_TAGS):ht,ft="ALLOWED_ATTR"in t?S({},t.ALLOWED_ATTR):mt,Dt="ADD_URI_SAFE_ATTR"in t?S(A(Pt),t.ADD_URI_SAFE_ATTR):Pt,Bt="ADD_DATA_URI_TAGS"in t?S(A(Ct),t.ADD_DATA_URI_TAGS):Ct,_t="FORBID_TAGS"in t?S({},t.FORBID_TAGS):{},yt="FORBID_ATTR"in t?S({},t.FORBID_ATTR):{},Rt="USE_PROFILES"in t&&t.USE_PROFILES,gt=!1!==t.ALLOW_ARIA_ATTR,bt=!1!==t.ALLOW_DATA_ATTR,wt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,vt=t.SAFE_FOR_TEMPLATES||!1,St=t.WHOLE_DOCUMENT||!1,xt=t.RETURN_DOM||!1,Nt=t.RETURN_DOM_FRAGMENT||!1,Et=t.RETURN_DOM_IMPORT||!1,kt=t.RETURN_TRUSTED_TYPE||!1,Ot=t.FORCE_BODY||!1,Tt=!1!==t.SANITIZE_DOM,Mt=!1!==t.KEEP_CONTENT,Lt=t.IN_PLACE||!1,pt=t.ALLOWED_URI_REGEXP||pt,vt&&(bt=!1),Nt&&(xt=!0),Rt&&(dt=S({},[].concat(H(k))),ft=[],!0===Rt.html&&(S(dt,O),S(ft,T)),!0===Rt.svg&&(S(dt,x),S(ft,M),S(ft,R)),!0===Rt.svgFilters&&(S(dt,N),S(ft,M),S(ft,R)),!0===Rt.mathMl&&(S(dt,E),S(ft,L),S(ft,R))),t.ADD_TAGS&&(dt===ht&&(dt=A(dt)),S(dt,t.ADD_TAGS)),t.ADD_ATTR&&(ft===mt&&(ft=A(ft)),S(ft,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&S(Dt,t.ADD_URI_SAFE_ATTR),Mt&&(dt["#text"]=!0),St&&S(dt,["html","head","body"]),dt.table&&(S(dt,["tbody"]),delete _t.tbody),i&&i(t),Ut=t)},Ht=function(t){d(e.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){t.outerHTML=J}},jt=function(t,n){try{d(e.removed,{attribute:n.getAttributeNode(t),from:n})}catch(t){d(e.removed,{attribute:null,from:n})}n.removeAttribute(t)},Xt=function(t){var e=void 0,n=void 0;if(Ot)t="<remove></remove>"+t;else{var i=f(t,/^[\r\n\t ]+/);n=i&&i[0]}var o=q?q.createHTML(t):t;try{e=(new W).parseFromString(o,"text/html")}catch(t){}if(!e||!e.documentElement){var s=(e=Q.createHTMLDocument("")).body;s.parentNode.removeChild(s.parentNode.firstElementChild),s.outerHTML=o}return t&&n&&e.body.insertBefore(r.createTextNode(n),e.body.childNodes[0]||null),tt.call(e,St?"html":"body")[0]},Vt=function(t){return Z.call(t.ownerDocument||t,t,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,(function(){return l.FILTER_ACCEPT}),!1)},Gt=function(t){return!(t instanceof v||t instanceof G||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof w&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute&&"string"==typeof t.namespaceURI)},Wt=function(t){return"object"===(void 0===a?"undefined":z(a))?t instanceof a:t&&"object"===(void 0===t?"undefined":z(t))&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},$t=function(t,n,r){it[t]&&c(it[t],(function(t){t.call(e,n,r,Ut)}))},Yt=function(t){var n=void 0;if($t("beforeSanitizeElements",t,null),Gt(t))return Ht(t),!0;if(f(t.nodeName,/[\u0080-\uFFFF]/))return Ht(t),!0;var r=h(t.nodeName);if($t("uponSanitizeElement",t,{tagName:r,allowedTags:dt}),("svg"===r||"math"===r)&&0!==t.querySelectorAll("p, br").length)return Ht(t),!0;if(!Wt(t.firstElementChild)&&(!Wt(t.content)||!Wt(t.content.firstElementChild))&&g(/<[!/\w]/g,t.innerHTML)&&g(/<[!/\w]/g,t.textContent))return Ht(t),!0;if(!dt[r]||_t[r]){if(Mt&&!It[r]&&"function"==typeof t.insertAdjacentHTML)try{var i=t.innerHTML;t.insertAdjacentHTML("AfterEnd",q?q.createHTML(i):i)}catch(t){}return Ht(t),!0}return"noscript"!==r&&"noembed"!==r||!g(/<\/no(script|embed)/i,t.innerHTML)?(vt&&3===t.nodeType&&(n=t.textContent,n=m(n,ot," "),n=m(n,st," "),t.textContent!==n&&(d(e.removed,{element:t.cloneNode()}),t.textContent=n)),$t("afterSanitizeElements",t,null),!1):(Ht(t),!0)},qt=function(t,e,n){if(Tt&&("id"===e||"name"===e)&&(n in r||n in Ft))return!1;if(bt&&g(at,e));else if(gt&&g(lt,e));else{if(!ft[e]||yt[e])return!1;if(Dt[e]);else if(g(pt,m(n,ct,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==_(n,"data:")||!Bt[t])if(wt&&!g(ut,m(n,ct,"")));else if(n)return!1}return!0},Jt=function(t){var n=void 0,r=void 0,i=void 0,o=void 0;$t("beforeSanitizeAttributes",t,null);var s=t.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ft};for(o=s.length;o--;){var l=n=s[o],u=l.name,c=l.namespaceURI;if(r=y(n.value),i=h(u),a.attrName=i,a.attrValue=r,a.keepAttr=!0,a.forceKeepAttr=void 0,$t("uponSanitizeAttribute",t,a),r=a.attrValue,!a.forceKeepAttr&&(jt(u,t),a.keepAttr))if(g(/\/>/i,r))jt(u,t);else{vt&&(r=m(r,ot," "),r=m(r,st," "));var d=t.nodeName.toLowerCase();if(qt(d,i,r))try{c?t.setAttributeNS(c,u,r):t.setAttribute(u,r),p(e.removed)}catch(t){}}}$t("afterSanitizeAttributes",t,null)}},Kt=function t(e){var n=void 0,r=Vt(e);for($t("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)$t("uponSanitizeShadowNode",n,null),Yt(n)||(n.content instanceof o&&t(n.content),Jt(n));$t("afterSanitizeShadowDOM",e,null)};return e.sanitize=function(r,i){var s=void 0,l=void 0,u=void 0,c=void 0,p=void 0;if(r||(r="\x3c!--\x3e"),"string"!=typeof r&&!Wt(r)){if("function"!=typeof r.toString)throw b("toString is not a function");if("string"!=typeof(r=r.toString()))throw b("dirty is not a string, aborting")}if(!e.isSupported){if("object"===z(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof r)return t.toStaticHTML(r);if(Wt(r))return t.toStaticHTML(r.outerHTML)}return r}if(At||zt(i),e.removed=[],"string"==typeof r&&(Lt=!1),Lt);else if(r instanceof a)1===(l=(s=Xt("\x3c!----\x3e")).ownerDocument.importNode(r,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?s=l:s.appendChild(l);else{if(!xt&&!vt&&!St&&-1===r.indexOf("<"))return q&&kt?q.createHTML(r):r;if(!(s=Xt(r)))return xt?null:J}s&&Ot&&Ht(s.firstChild);for(var d=Vt(Lt?r:s);u=d.nextNode();)3===u.nodeType&&u===c||Yt(u)||(u.content instanceof o&&Kt(u.content),Jt(u),c=u);if(c=null,Lt)return r;if(xt){if(Nt)for(p=et.call(s.ownerDocument);s.firstChild;)p.appendChild(s.firstChild);else p=s;return Et&&(p=nt.call(n,p,!0)),p}var h=St?s.outerHTML:s.innerHTML;return vt&&(h=m(h,ot," "),h=m(h,st," ")),q&&kt?q.createHTML(h):h},e.setConfig=function(t){zt(t),At=!0},e.clearConfig=function(){Ut=null,At=!1},e.isValidAttribute=function(t,e,n){Ut||zt({});var r=h(t),i=h(e);return qt(r,i,n)},e.addHook=function(t,e){"function"==typeof e&&(it[t]=it[t]||[],d(it[t],e))},e.removeHook=function(t){it[t]&&p(it[t])},e.removeHooks=function(t){it[t]&&(it[t]=[])},e.removeAllHooks=function(){it={}},e}return V()}()},209:function(t,e,n){"use strict";!function(t){function e(){}function n(){}var r=String.fromCharCode,i={}.toString,o=i.call(t.SharedArrayBuffer),s=i(),a=t.Uint8Array,l=a||Array,u=a?ArrayBuffer:l,c=u.isView||function(t){return t&&"length"in t},p=i.call(u.prototype);u=n.prototype;var d=t.TextEncoder,h=new(a?Uint16Array:l)(32);e.prototype.decode=function(t){if(!c(t)){var e=i.call(t);if(e!==p&&e!==o&&e!==s)throw TypeError("Failed to execute 'decode' on 'TextDecoder': The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");t=a?new l(t):t||[]}for(var n,u,d,f=e="",m=0,_=0|t.length,y=_-32|0,g=0,b=0,w=0,v=-1;m<_;){for(n=m<=y?32:_-m|0;w<n;m=m+1|0,w=w+1|0){switch((u=255&t[m])>>4){case 15:if(2!=(d=255&t[m=m+1|0])>>6||247<u){m=m-1|0;break}g=(7&u)<<6|63&d,b=5,u=256;case 14:g<<=6,g|=(15&u)<<6|63&(d=255&t[m=m+1|0]),b=2==d>>6?b+4|0:24,u=u+256&768;case 13:case 12:g<<=6,g|=(31&u)<<6|63&(d=255&t[m=m+1|0]),b=b+7|0,m<_&&2==d>>6&&g>>b&&1114112>g?(u=g,0<=(g=g-65536|0)&&(v=55296+(g>>10)|0,u=56320+(1023&g)|0,31>w?(h[w]=v,w=w+1|0,v=-1):(d=v,v=u,u=d))):(m=m-(u>>=8)-1|0,u=65533),g=b=0,n=m<=y?32:_-m|0;default:h[w]=u;continue;case 11:case 10:case 9:case 8:}h[w]=65533}if(f+=r(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15],h[16],h[17],h[18],h[19],h[20],h[21],h[22],h[23],h[24],h[25],h[26],h[27],h[28],h[29],h[30],h[31]),32>w&&(f=f.slice(0,w-32|0)),m<_){if(h[0]=v,w=~v>>>31,v=-1,f.length<e.length)continue}else-1!==v&&(f+=r(v));e+=f,f=""}return e},u.encode=function(t){var e,n=0|(t=void 0===t?"":""+t).length,r=new l(8+(n<<1)|0),i=0,o=!a;for(e=0;e<n;e=e+1|0,i=i+1|0){var s=0|t.charCodeAt(e);if(127>=s)r[i]=s;else{if(2047>=s)r[i]=192|s>>6;else{t:{if(55296<=s)if(56319>=s){var u=0|t.charCodeAt(e=e+1|0);if(56320<=u&&57343>=u){if(65535<(s=(s<<10)+u-56613888|0)){r[i]=240|s>>18,r[i=i+1|0]=128|s>>12&63,r[i=i+1|0]=128|s>>6&63,r[i=i+1|0]=128|63&s;continue}break t}s=65533}else 57343>=s&&(s=65533);!o&&e<<1<i&&e<<1<(i-7|0)&&(o=!0,(u=new l(3*n)).set(r),r=u)}r[i]=224|s>>12,r[i=i+1|0]=128|s>>6&63}r[i=i+1|0]=128|63&s}}return a?r.subarray(0,i):r.slice(0,i)},d||(t.TextDecoder=e,t.TextEncoder=n)}(""+void 0==typeof n.g?""+void 0==typeof self?this:self:n.g)},245:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t){return function(e){return new Md5(!0).update(e)[t]()}},createMethod=function(){var t=createOutputMethod("hex");NODE_JS&&(t=nodeWrap(t)),t.create=function(){return new Md5},t.update=function(e){return t.create().update(e)};for(var e=0;e<OUTPUT_TYPES.length;++e){var n=OUTPUT_TYPES[e];t[n]=createOutputMethod(n)}return t},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(t){if("string"==typeof t)return crypto.createHash("md5").update(t,"utf8").digest("hex");if(null==t)throw ERROR;return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash("md5").update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod};function Md5(t){if(t)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var e=new ArrayBuffer(68);this.buffer8=new Uint8Array(e),this.blocks=new Uint32Array(e)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(t){if(!this.finalized){var e,n=typeof t;if("string"!==n){if("object"!==n)throw ERROR;if(null===t)throw ERROR;if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw ERROR;e=!0}for(var r,i,o=0,s=t.length,a=this.blocks,l=this.buffer8;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)if(ARRAY_BUFFER)for(i=this.start;o<s&&i<64;++o)l[i++]=t[o];else for(i=this.start;o<s&&i<64;++o)a[i>>2]|=t[o]<<SHIFT[3&i++];else if(ARRAY_BUFFER)for(i=this.start;o<s&&i<64;++o)(r=t.charCodeAt(o))<128?l[i++]=r:r<2048?(l[i++]=192|r>>6,l[i++]=128|63&r):r<55296||r>=57344?(l[i++]=224|r>>12,l[i++]=128|r>>6&63,l[i++]=128|63&r):(r=65536+((1023&r)<<10|1023&t.charCodeAt(++o)),l[i++]=240|r>>18,l[i++]=128|r>>12&63,l[i++]=128|r>>6&63,l[i++]=128|63&r);else for(i=this.start;o<s&&i<64;++o)(r=t.charCodeAt(o))<128?a[i>>2]|=r<<SHIFT[3&i++]:r<2048?(a[i>>2]|=(192|r>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(a[i>>2]|=(224|r>>12)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&t.charCodeAt(++o)),a[i>>2]|=(240|r>>18)<<SHIFT[3&i++],a[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[e>>2]|=EXTRA[3&e],e>=56&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,t[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var t,e,n,r,i,o,s=this.blocks;this.first?e=((e=((t=((t=s[0]-680876937)<<7|t>>>25)-271733879<<0)^(n=((n=(-271733879^(r=((r=(-1732584194^2004318071&t)+s[1]-117830708)<<12|r>>>20)+t<<0)&(-271733879^t))+s[2]-1126478375)<<17|n>>>15)+r<<0)&(r^t))+s[3]-1316259209)<<22|e>>>10)+n<<0:(t=this.h0,e=this.h1,n=this.h2,e=((e+=((t=((t+=((r=this.h3)^e&(n^r))+s[0]-680876936)<<7|t>>>25)+e<<0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+s[1]-389564586)<<12|r>>>20)+t<<0)&(t^e))+s[2]+606105819)<<17|n>>>15)+r<<0)&(r^t))+s[3]-1044525330)<<22|e>>>10)+n<<0),e=((e+=((t=((t+=(r^e&(n^r))+s[4]-176418897)<<7|t>>>25)+e<<0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+s[5]+1200080426)<<12|r>>>20)+t<<0)&(t^e))+s[6]-1473231341)<<17|n>>>15)+r<<0)&(r^t))+s[7]-45705983)<<22|e>>>10)+n<<0,e=((e+=((t=((t+=(r^e&(n^r))+s[8]+1770035416)<<7|t>>>25)+e<<0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+s[9]-1958414417)<<12|r>>>20)+t<<0)&(t^e))+s[10]-42063)<<17|n>>>15)+r<<0)&(r^t))+s[11]-1990404162)<<22|e>>>10)+n<<0,e=((e+=((t=((t+=(r^e&(n^r))+s[12]+1804603682)<<7|t>>>25)+e<<0)^(n=((n+=(e^(r=((r+=(n^t&(e^n))+s[13]-40341101)<<12|r>>>20)+t<<0)&(t^e))+s[14]-1502002290)<<17|n>>>15)+r<<0)&(r^t))+s[15]+1236535329)<<22|e>>>10)+n<<0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+s[1]-165796510)<<5|t>>>27)+e<<0)^e))+s[6]-1069501632)<<9|r>>>23)+t<<0)^t&((n=((n+=(t^e&(r^t))+s[11]+643717713)<<14|n>>>18)+r<<0)^r))+s[0]-373897302)<<20|e>>>12)+n<<0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+s[5]-701558691)<<5|t>>>27)+e<<0)^e))+s[10]+38016083)<<9|r>>>23)+t<<0)^t&((n=((n+=(t^e&(r^t))+s[15]-660478335)<<14|n>>>18)+r<<0)^r))+s[4]-405537848)<<20|e>>>12)+n<<0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+s[9]+568446438)<<5|t>>>27)+e<<0)^e))+s[14]-1019803690)<<9|r>>>23)+t<<0)^t&((n=((n+=(t^e&(r^t))+s[3]-187363961)<<14|n>>>18)+r<<0)^r))+s[8]+1163531501)<<20|e>>>12)+n<<0,e=((e+=((r=((r+=(e^n&((t=((t+=(n^r&(e^n))+s[13]-1444681467)<<5|t>>>27)+e<<0)^e))+s[2]-51403784)<<9|r>>>23)+t<<0)^t&((n=((n+=(t^e&(r^t))+s[7]+1735328473)<<14|n>>>18)+r<<0)^r))+s[12]-1926607734)<<20|e>>>12)+n<<0,e=((e+=((o=(r=((r+=((i=e^n)^(t=((t+=(i^r)+s[5]-378558)<<4|t>>>28)+e<<0))+s[8]-2022574463)<<11|r>>>21)+t<<0)^t)^(n=((n+=(o^e)+s[11]+1839030562)<<16|n>>>16)+r<<0))+s[14]-35309556)<<23|e>>>9)+n<<0,e=((e+=((o=(r=((r+=((i=e^n)^(t=((t+=(i^r)+s[1]-1530992060)<<4|t>>>28)+e<<0))+s[4]+1272893353)<<11|r>>>21)+t<<0)^t)^(n=((n+=(o^e)+s[7]-155497632)<<16|n>>>16)+r<<0))+s[10]-1094730640)<<23|e>>>9)+n<<0,e=((e+=((o=(r=((r+=((i=e^n)^(t=((t+=(i^r)+s[13]+681279174)<<4|t>>>28)+e<<0))+s[0]-358537222)<<11|r>>>21)+t<<0)^t)^(n=((n+=(o^e)+s[3]-722521979)<<16|n>>>16)+r<<0))+s[6]+76029189)<<23|e>>>9)+n<<0,e=((e+=((o=(r=((r+=((i=e^n)^(t=((t+=(i^r)+s[9]-640364487)<<4|t>>>28)+e<<0))+s[12]-421815835)<<11|r>>>21)+t<<0)^t)^(n=((n+=(o^e)+s[15]+530742520)<<16|n>>>16)+r<<0))+s[2]-995338651)<<23|e>>>9)+n<<0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+s[0]-198630844)<<6|t>>>26)+e<<0)|~n))+s[7]+1126891415)<<10|r>>>22)+t<<0)^((n=((n+=(t^(r|~e))+s[14]-1416354905)<<15|n>>>17)+r<<0)|~t))+s[5]-57434055)<<21|e>>>11)+n<<0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+s[12]+1700485571)<<6|t>>>26)+e<<0)|~n))+s[3]-1894986606)<<10|r>>>22)+t<<0)^((n=((n+=(t^(r|~e))+s[10]-1051523)<<15|n>>>17)+r<<0)|~t))+s[1]-2054922799)<<21|e>>>11)+n<<0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+s[8]+1873313359)<<6|t>>>26)+e<<0)|~n))+s[15]-30611744)<<10|r>>>22)+t<<0)^((n=((n+=(t^(r|~e))+s[6]-1560198380)<<15|n>>>17)+r<<0)|~t))+s[13]+1309151649)<<21|e>>>11)+n<<0,e=((e+=((r=((r+=(e^((t=((t+=(n^(e|~r))+s[4]-145523070)<<6|t>>>26)+e<<0)|~n))+s[11]-1120210379)<<10|r>>>22)+t<<0)^((n=((n+=(t^(r|~e))+s[2]+718787259)<<15|n>>>17)+r<<0)|~t))+s[9]-343485551)<<21|e>>>11)+n<<0,this.first?(this.h0=t+1732584193<<0,this.h1=e-271733879<<0,this.h2=n-1732584194<<0,this.h3=r+271733878<<0,this.first=!1):(this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0)},Md5.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3;return HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,n=this.h2,r=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&e,e>>8&255,e>>16&255,e>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(16),e=new Uint32Array(t);return e[0]=this.h0,e[1]=this.h1,e[2]=this.h2,e[3]=this.h3,t},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var t,e,n,r="",i=this.array(),o=0;o<15;)t=i[o++],e=i[o++],n=i[o++],r+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[63&(t<<4|e>>>4)]+BASE64_ENCODE_CHAR[63&(e<<2|n>>>6)]+BASE64_ENCODE_CHAR[63&n];return t=i[o],r+=BASE64_ENCODE_CHAR[t>>>2]+BASE64_ENCODE_CHAR[t<<4&63]+"=="};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},825:t=>{function e(){this._events={}}e.prototype={on:function(t,e){this._events||(this._events={});var n=this._events;return(n[t]||(n[t]=[])).push(e),this},removeListener:function(t,e){var n,r=this._events[t]||[];for(n=r.length-1;n>=0&&r[n];n--)r[n]!==e&&r[n].cb!==e||r.splice(n,1)},removeAllListeners:function(t){t?this._events[t]&&(this._events[t]=[]):this._events={}},listeners:function(t){return this._events&&this._events[t]||[]},emit:function(t){this._events||(this._events={});var e,n=Array.prototype.slice.call(arguments,1),r=this._events[t]||[];for(e=r.length-1;e>=0&&r[e];e--)r[e].apply(this,n);return this},when:function(t,e){return this.once(t,e,!0)},once:function(t,e,n){if(!e)return this;function r(){n||this.removeListener(t,r),e.apply(this,arguments)&&n&&this.removeListener(t,r)}return r.cb=e,this.on(t,r),this}},e.mixin=function(t){var n,r=e.prototype;for(n in r)r.hasOwnProperty(n)&&(t.prototype[n]=r[n])},t.exports=e},864:(t,e,n)=>{var r=n(574),i={debug:1,info:2,warn:3,error:4};function o(){this.enabled=!0,this.defaultResult=!0,this.clear()}function s(t,e){return t.n.test?t.n.test(e):t.n==e}r.mixin(o),o.prototype.allow=function(t,e){return this._white.push({n:t,l:i[e]}),this},o.prototype.deny=function(t,e){return this._black.push({n:t,l:i[e]}),this},o.prototype.clear=function(){return this._white=[],this._black=[],this},o.prototype.test=function(t,e){var n,r=Math.max(this._white.length,this._black.length);for(n=0;n<r;n++){if(this._white[n]&&s(this._white[n],t)&&i[e]>=this._white[n].l)return!0;if(this._black[n]&&s(this._black[n],t)&&i[e]<=this._black[n].l)return!1}return this.defaultResult},o.prototype.write=function(t,e,n){if(!this.enabled||this.test(t,e))return this.emit("item",t,e,n)},t.exports=o},687:(t,e,n)=>{var r=n(574),i=n(864),o=new r,s=Array.prototype.slice;(e=t.exports=function(t){var n=function(){return o.write(t,void 0,s.call(arguments)),n};return n.debug=function(){return o.write(t,"debug",s.call(arguments)),n},n.info=function(){return o.write(t,"info",s.call(arguments)),n},n.warn=function(){return o.write(t,"warn",s.call(arguments)),n},n.error=function(){return o.write(t,"error",s.call(arguments)),n},n.log=n.debug,n.suggest=e.suggest,n.format=o.format,n}).defaultBackend=e.defaultFormatter=null,e.pipe=function(t){return o.pipe(t)},e.end=e.unpipe=e.disable=function(t){return o.unpipe(t)},e.Transform=r,e.Filter=i,e.suggest=new i,e.enable=function(){return e.defaultFormatter?o.pipe(e.suggest).pipe(e.defaultFormatter).pipe(e.defaultBackend):o.pipe(e.suggest).pipe(e.defaultBackend)}},574:(t,e,n)=>{function r(){}n(825).mixin(r),r.prototype.write=function(t,e,n){this.emit("item",t,e,n)},r.prototype.end=function(){this.emit("end"),this.removeAllListeners()},r.prototype.pipe=function(t){var e=this;function n(){t.write.apply(t,Array.prototype.slice.call(arguments))}function r(){!t._isStdio&&t.end()}return e.emit("unpipe",t),t.emit("pipe",e),e.on("item",n),e.on("end",r),e.when("unpipe",(function(i){var o=i===t||void 0===i;return o&&(e.removeListener("item",n),e.removeListener("end",r),t.emit("unpipe")),o})),t},r.prototype.unpipe=function(t){return this.emit("unpipe",t),this},r.prototype.format=function(t){throw new Error(["Warning: .format() is deprecated in Minilog v2! Use .pipe() instead. For example:","var Minilog = require('minilog');","Minilog","  .pipe(Minilog.backends.console.formatClean)","  .pipe(Minilog.backends.console);"].join("\n"))},r.mixin=function(t){var e,n=r.prototype;for(e in n)n.hasOwnProperty(e)&&(t.prototype[e]=n[e])},t.exports=r},45:(t,e,n)=>{var r=n(574),i=[],o=new r;o.write=function(t,e,n){i.push([t,e,n])},o.get=function(){return i},o.empty=function(){i=[]},t.exports=o},534:(t,e,n)=>{var r=n(574),i=/\n+$/,o=new r;o.write=function(t,e,n){var r=n.length-1;if("undefined"!=typeof console&&console.log){if(console.log.apply)return console.log.apply(console,[t,e].concat(n));if(JSON&&JSON.stringify){n[r]&&"string"==typeof n[r]&&(n[r]=n[r].replace(i,""));try{for(r=0;r<n.length;r++)n[r]=JSON.stringify(n[r])}catch(t){}console.log(n.join(" "))}}},o.formatters=["color","minilog"],o.color=n(632),o.minilog=n(240),t.exports=o},632:(t,e,n)=>{var r=n(574),i=n(24),o={debug:["cyan"],info:["purple"],warn:["yellow",!0],error:["red",!0]},s=new r;s.write=function(t,e,n){console.log;console[e]&&console[e].apply&&console[e].apply(console,["%c"+t+" %c"+e,i("gray"),i.apply(i,o[e])].concat(n))},s.pipe=function(){},t.exports=s},240:(t,e,n)=>{var r=n(574),i=n(24),o={debug:["gray"],info:["purple"],warn:["yellow",!0],error:["red",!0]},s=new r;s.write=function(t,e,n){var r=console.log;"debug"!=e&&console[e]&&(r=console[e]);var s=0;if("info"!=e){for(;s<n.length&&"string"==typeof n[s];s++);r.apply(console,["%c"+t+" "+n.slice(0,s).join(" "),i.apply(i,o[e])].concat(n.slice(s)))}else r.apply(console,["%c"+t,i.apply(i,o[e])].concat(n))},s.pipe=function(){},t.exports=s},24:t=>{var e={black:"#000",red:"#c23621",green:"#25bc26",yellow:"#bbbb00",blue:"#492ee1",magenta:"#d338d3",cyan:"#33bbc8",gray:"#808080",purple:"#708"};t.exports=function(t,n){return n?"color: #fff; background: "+e[t]+";":"color: "+e[t]+";"}},306:(t,e,n)=>{var r=n(687),i=r.enable,o=r.disable,s="undefined"!=typeof navigator&&/chrome/i.test(navigator.userAgent),a=n(534);if(r.defaultBackend=s?a.minilog:a,"undefined"!=typeof window){try{r.enable(JSON.parse(window.localStorage.minilogSettings))}catch(t){}if(window.location&&window.location.search){var l=RegExp("[?&]minilog=([^&]*)").exec(window.location.search);l&&r.enable(decodeURIComponent(l[1]))}}r.enable=function(){i.call(r,!0);try{window.localStorage.minilogSettings=JSON.stringify(!0)}catch(t){}return this},r.disable=function(){o.call(r);try{delete window.localStorage.minilogSettings}catch(t){}return this},(t.exports=r).backends={array:n(45),browser:r.defaultBackend,localStorage:n(764),jQuery:n(518)}},518:(t,e,n)=>{var r=n(574),i=(new Date).valueOf().toString(36);function o(t){this.url=t.url||"",this.cache=[],this.timer=null,this.interval=t.interval||3e4,this.enabled=!0,this.jQuery=window.jQuery,this.extras={}}r.mixin(o),o.prototype.write=function(t,e,n){this.timer||this.init(),this.cache.push([t,e].concat(n))},o.prototype.init=function(){if(this.enabled&&this.jQuery){var t=this;this.timer=setTimeout((function(){var e,n,r=[],o=t.url;if(0==t.cache.length)return t.init();for(e=0;e<t.cache.length;e++)try{JSON.stringify(t.cache[e]),r.push(t.cache[e])}catch(t){}t.jQuery.isEmptyObject(t.extras)?(n=JSON.stringify({logs:r}),o=t.url+"?client_id="+i):n=JSON.stringify(t.jQuery.extend({logs:r},t.extras)),t.jQuery.ajax(o,{type:"POST",cache:!1,processData:!1,data:n,contentType:"application/json",timeout:1e4}).success((function(e,n,r){e.interval&&(t.interval=Math.max(1e3,e.interval))})).error((function(){t.interval=3e4})).always((function(){t.init()})),t.cache=[]}),this.interval)}},o.prototype.end=function(){},o.jQueryWait=function(t){if("undefined"!=typeof window&&(window.jQuery||window.$))return t(window.jQuery||window.$);"undefined"!=typeof window&&setTimeout((function(){o.jQueryWait(t)}),200)},t.exports=o},764:(t,e,n)=>{var r=n(574),i=!1,o=new r;o.write=function(t,e,n){if("undefined"!=typeof window&&"undefined"!=typeof JSON&&JSON.stringify&&JSON.parse)try{i||(i=window.localStorage.minilog?JSON.parse(window.localStorage.minilog):[]),i.push([(new Date).toString(),t,e,n]),window.localStorage.minilog=JSON.stringify(i)}catch(t){}},t.exports=o},481:t=>{t.exports=function(t){const e=t.match(/<svg [^>]*>/);e&&-1===e[0].indexOf("xmlns=")&&(t=t.replace("<svg ",'<svg xmlns="http://www.w3.org/2000/svg" ')),e&&-1!==e[0].indexOf("&ns_")&&-1===t.indexOf("<!DOCTYPE")&&(t=t.replace(e[0],e[0].replace(/&ns_[^;]+;/g,"http://ns.adobe.com/Extensibility/1.0/"))),t.includes("data:img/png")&&(t=t.replace(/(<image[^>]+?xlink:href=["'])data:img\/png/g,((t,e)=>`${e}data:image/png`)));const n=/(<[^>]+?xmlns:(?!xml=)[^ ]+=)"http:\/\/www.w3.org\/XML\/1998\/namespace"/g;return null!==t.match(n)&&(t=t.replace(n,((t,e)=>`${e}"http://dummy.namespace"`))),t=(t=(t=t.replace(/<(\/?)\s*svg:/g,"<$1")).replace(/<metadata>[\s\S]*<\/metadata>/,"<metadata></metadata>")).replace(/<script[\s\S]*>[\s\S]*<\/script>/,"<script><\/script>")}},181:t=>{t.exports=function(t){const e=[],n=t=>{"text"===t.localName&&e.push(t);for(let e=0;e<t.childNodes.length;e++)n(t.childNodes[e])};n(t);for(const t of e)t.getAttribute("font-family")&&"Helvetica"!==t.getAttribute("font-family")?"Mystery"===t.getAttribute("font-family")?t.setAttribute("font-family","Curly"):"Gloria"===t.getAttribute("font-family")?t.setAttribute("font-family","Handwriting"):"Donegal"===t.getAttribute("font-family")&&t.setAttribute("font-family","Serif"):t.setAttribute("font-family","Sans Serif")}},285:(t,e,n)=>{const r=n(699),i=n(893),o=n(181),s=n(481),a=n(294),l=(t,e)=>{const n=[],r=t=>{t.localName!==e&&void 0!==e||!t.getAttribute||n.push(t);for(let e=0;e<t.childNodes.length;e++)r(t.childNodes[e])};return r(t),n},u=t=>{const e=document.createElement("span"),n=t.outerHTML,i=r.sanitize(n,{USE_PROFILES:{svg:!0},FORBID_TAGS:["a","audio","canvas","video"],ADD_DATA_URI_TAGS:["image"]});let o,s;try{e.innerHTML=i,document.body.appendChild(e),o=e.children[0].getBBox()}finally{document.body.removeChild(e)}s=0===o.width||0===o.height?0:(t=>{let e=0;const n=t=>{t.getAttribute&&(t.getAttribute("stroke")&&(e=Math.max(e,1)),t.getAttribute("stroke-width")&&(e=Math.max(e,Number(t.getAttribute("stroke-width"))||0)));for(let e=0;e<t.childNodes.length;e++)n(t.childNodes[e])};return n(t),e})(t)/2;const a=o.width+2*s,l=o.height+2*s,u=o.x-s,c=o.y-s;t.setAttribute("width",a),t.setAttribute("height",l),t.setAttribute("viewBox",`${u} ${c} ${a} ${l}`)},c=(t,e)=>{e&&(t=>{const e=l(t,"linearGradient");for(const t of e)t.getAttribute("x2")||t.setAttribute("x2","0")})(t),a(t,window),(t=>{const e=l(t,"image"),n="image-rendering: optimizespeed; image-rendering: pixelated;";for(const t of e)t.getAttribute("style")?t.setAttribute("style",`${n} ${t.getAttribute("style")}`):t.setAttribute("style",n)})(t),e?((t=>{const e=[],n=t=>{"text"===t.localName&&e.push(t);for(let e=0;e<t.childNodes.length;e++)n(t.childNodes[e])};n(t),o(t);for(const n of e){n.removeAttribute("x"),n.removeAttribute("y"),n.setAttribute("alignment-baseline","text-before-edge"),n.setAttribute("xml:space","preserve"),n.getAttribute("font-size")||n.setAttribute("font-size","18");let e=n.textContent;const r=parseFloat(n.getAttribute("font-size")),o=2;let s=0,a=1.2;if("Handwriting"===n.getAttribute("font-family")?(a=2,s=-11*r/22):"Scratch"===n.getAttribute("font-family")?(a=.89,s=-3*r/22):"Curly"===n.getAttribute("font-family")?(a=1.38,s=-6*r/22):"Marker"===n.getAttribute("font-family")?(a=1.45,s=-6*r/22):"Sans Serif"===n.getAttribute("font-family")?(a=1.13,s=-3*r/22):"Serif"===n.getAttribute("font-family")&&(a=1.25,s=-4*r/22),0===n.transform.baseVal.numberOfItems){const e=t.createSVGTransform();n.transform.baseVal.appendItem(e)}const l=n.transform.baseVal.getItem(0).matrix;if(l.e+=l.a*o+l.c*s,l.f+=l.b*o+l.d*s,e&&0===n.childElementCount){n.textContent="";const t=e.split("\n");e="";for(const e of t){const t=i.create("tspan");t.setAttribute("x","0"),t.setAttribute("style","white-space: pre"),t.setAttribute("dy",`${a}em`),t.textContent=e||" ",n.appendChild(t)}}}})(t),u(t),(t=>{const e=l(t);for(const t of e){if(!t.style)continue;const e=t.style.stroke||t.getAttribute("stroke");e&&e.match(/^url\(#.*\)$/)&&(t.style["stroke-linejoin"]="round",t.style["stroke-linecap"]="round")}})(t)):t.getAttribute("viewBox")?t.getAttribute("width")&&t.getAttribute("height")||(t.setAttribute("width",t.viewBox.baseVal.width),t.setAttribute("height",t.viewBox.baseVal.height)):u(t)};t.exports=(t,e)=>{const n=new DOMParser;t=s(t);const r=n.parseFromString(t,"text/xml");if(r.childNodes.length<1||"svg"!==r.documentElement.localName)throw new Error("Document does not appear to be SVG.");const i=r.documentElement;return c(i,e),i}},893:t=>{class e{static get svg(){return"http://www.w3.org/2000/svg"}static get xmlns(){return"http://www.w3.org/2000/xmlns"}static get xlink(){return"http://www.w3.org/1999/xlink"}static attributeNamespace(){return{href:e.xlink,xlink:e.xmlns,xmlns:`${e.xmlns}/`,"xmlns:xlink":`${e.xmlns}/`}}static create(t,n,r){return e.set(document.createElementNS(e.svg,t),n,r)}static get(t,n){const r=e.attributeNamespace[n],i=r?t.getAttributeNS(r,n):t.getAttribute(n);return"null"===i?null:i}static set(t,n,r){for(const i in n){let o=n[i];const s=e.attributeNamespace[i];"number"==typeof o&&r&&(o=r.number(o)),s?t.setAttributeNS(s,i,o):t.setAttribute(i,o)}return t}}t.exports=e},294:(t,e,n)=>{const r=n(720),i=n(893),o=n(942),s=function(t){let e=r.identity();const n=t.attributes&&t.attributes.transform&&t.attributes.transform.value;if(!n)return e;const i=n.split(/\)\s*/g);for(const t of i){if(!t)break;const n=t.split(/\(\s*/),i=n[0].trim(),s=n[1].split(/[\s,]+/g);for(let t=0;t<s.length;t++)s[t]=parseFloat(s[t]);switch(i){case"matrix":e=r.compose(e,{a:s[0],b:s[1],c:s[2],d:s[3],e:s[4],f:s[5]});break;case"rotate":e=r.compose(e,r.rotateDEG(s[0],s[1]||0,s[2]||0));break;case"translate":e=r.compose(e,r.translate(s[0],s[1]||0));break;case"scale":e=r.compose(e,r.scale(s[0],s[1]||s[0]));break;case"skewX":e=r.compose(e,r.skewDEG(s[0],0));break;case"skewY":e=r.compose(e,r.skewDEG(0,s[0]));break;default:o.error(`Couldn't parse: ${i}`)}}return e},a=function(t){const e=t.a,n=t.b,r=t.c,i=t.d,o=e*i-n*r;if(0!==e||0!==n){const t=Math.sqrt(e*e+n*n);return{x:t,y:o/t}}if(0!==r||0!==i){const t=Math.sqrt(r*r+i*i);return{x:o/t,y:t}}return{x:0,y:0}},l=function(t,e,n,r){n=-n*Math.PI/180;const i=r.a,o=-r.c,s=-r.b,a=r.d,l=i*a-o*s;if(0===l)return null;const u=Math.sin(n),c=Math.cos(n),p=Math.sin(2*n),d=c*c/t/t+u*u/e/e,h=p/t/t-p/e/e,f=u*u/t/t+c*c/e/e,m=d*a*a-h*a*s+f*s*s,_=-2*d*o*a+h*i*a+h*o*s-2*f*i*s,y=d*o*o-h*i*o+f*i*i,g=Math.sqrt(2)*Math.sqrt((m+y-Math.sqrt(m*m+_*_-2*m*y+y*y))/(-_*_+4*m*y)),b=1/Math.sqrt(m+y-1/g/g);let w=(m-1/g/g)/(1/b/b-1/g/g);w<0&&Math.abs(w)<1e-8&&(w=0),w=Math.sqrt(w),Math.abs(1-w)<1e-8&&(w=1);let v=Math.asin(w);w=_/(1/g/g-1/b/b);const S=-v;return Math.abs(Math.sin(2*S)-w)<Math.abs(Math.sin(2*v)-w)&&(v=S),{radiusX:g*l,radiusY:b*l,rotation:180*-v/Math.PI}},u=["circle","ellipse","image","line","path","polygon","polyline","rect","text","use"],c=["a","defs","g","marker","glyph","missing-glyph","pattern","svg","switch","symbol"],p=function(t,e){return Math.sqrt((t*t+e*e)/2)},d=function(t,e,n,o){const s=function(t,e,r,o,s,a){let l,u=i.get(t,e);if(null===u?a?(l=a,/%\s*$/.test(l)&&(u=a,l=parseFloat(u))):l=o?null:r?"":0:l=r?u:parseFloat(u),/%\s*$/.test(u)){return l/100*(s?1:n[/x|^width/.test(e)?"width":"height"])}return l},l=function(t,e,n,r,i,o,a){return e=s(t,e||"x",!1,r,i,o),n=s(t,n||"y",!1,r,i,a),!r||null!==e&&null!==n?{x:e,y:n}:null};let u=e.getElementsByTagName("defs");0===u.length?(u=i.create("defs"),e.appendChild(u)):u=u[0];const c=e.getElementById(t);if(!c)return;const d="radialgradient"===c.tagName.toLowerCase(),h=e.getElementById(t).cloneNode(!0);let f=r.toString(o);f=f.substring(8,f.length-1);const m=`${t}-${f}`;if(h.setAttribute("id",m),e.getElementById(m))return`url(#${m})`;const _="userSpaceOnUse"!==s(h,"gradientUnits",!0);let y,g,b,w;if(d)y=l(h,"cx","cy",!1,_,"50%","50%"),b=s(h,"r",!1,!1,_,"50%"),w=l(h,"fx","fy",!0,_);else if(y=l(h,"x1","y1",!1,_),g=l(h,"x2","y2",!1,_,"1"),y.x===g.x&&y.y===g.y){const t=h.getElementsByTagName("stop");return t.length&&t[t.length-1].attributes&&t[t.length-1].attributes["stop-color"]?t[t.length-1].attributes["stop-color"].value:null}if(_){const t=r.compose(r.translate(n.x,n.y),r.scale(n.width,n.height));y=r.applyToPoint(t,y),g&&(g=r.applyToPoint(t,g)),b&&(b=p(n.width,n.height)*b),w&&(w=r.applyToPoint(t,w))}if(d){y=r.applyToPoint(o,y);const t=a(o);b=p(t.x,t.y)*b,w&&(w=r.applyToPoint(o,w))}else{const t=(t,e)=>t.x*e.x+t.y*e.y,e=(t,e)=>({x:t*e.x,y:t*e.y}),n=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),i=(t,e)=>({x:t.x-e.x,y:t.y-e.y});let s=Math.abs(y.x-g.x)<1e-8?n(y,{x:1,y:(y.x-g.x)/(g.y-y.y)}):n(y,{x:(g.y-y.y)/(y.x-g.x),y:1});s=r.applyToPoint(o,s),y=r.applyToPoint(o,y),g=r.applyToPoint(o,g);const a=i(s,y),l=i(g,y),u=Math.abs(a.x)<1e-8?{x:1,y:-a.x/a.y}:{x:-a.y/a.x,y:1},c=e(t(l,u)/t(u,u),u);g={x:y.x+c.x,y:y.y+c.y}}return d?(h.setAttribute("cx",Number(y.x.toFixed(4))),h.setAttribute("cy",Number(y.y.toFixed(4))),h.setAttribute("r",Number(b.toFixed(4))),w&&(h.setAttribute("fx",Number(w.x.toFixed(4))),h.setAttribute("fy",Number(w.y.toFixed(4))))):(h.setAttribute("x1",Number(y.x.toFixed(4))),h.setAttribute("y1",Number(y.y.toFixed(4))),h.setAttribute("x2",Number(g.x.toFixed(4))),h.setAttribute("y2",Number(g.y.toFixed(4)))),h.setAttribute("gradientUnits","userSpaceOnUse"),u.appendChild(h),`url(#${m})`},h=(t,e)=>{const n=t&&t.match(/\((?:["'#]*)([^"')]+)/),r=n&&n[1];return r&&e?r.replace(`${e.location.href.split("#")[0]}#`,""):r};t.exports=function(t,e,n){const o=r.identity(),f=(o,m,_,y,g)=>{if(function(t){return t.tagName&&c.includes(t.tagName.toLowerCase())}(o)){o.attributes["stroke-width"]&&(_=o.attributes["stroke-width"].value),o.attributes&&(o.attributes.fill&&(y=o.attributes.fill.value),o.attributes.stroke&&(g=o.attributes.stroke.value));for(let t=0;t<o.childNodes.length;t++)f(o.childNodes[t],r.compose(m,s(o)),_,y,g);o.removeAttribute("transform"),o.removeAttribute("stroke-width"),o.removeAttribute("fill"),o.removeAttribute("stroke")}else if(function(t,e){return!!t.attributes&&(e=t.attributes["stroke-width"]?Number(t.attributes["stroke-width"].value):Number(e))&&t.tagName&&"path"===t.tagName.toLowerCase()&&t.attributes.d&&t.attributes.d.value}(o,_)){if(o.attributes["stroke-width"]&&(_=o.attributes["stroke-width"].value),o.attributes.fill&&(y=o.attributes.fill.value),o.attributes.stroke&&(g=o.attributes.stroke.value),m=r.compose(m,s(o)),r.toString(m)===r.toString(r.identity()))return o.removeAttribute("transform"),o.setAttribute("stroke-width",_),y&&o.setAttribute("fill",y),void(g&&o.setAttribute("stroke",g));const u=h(y,e),c=h(g,e);if(u||c){const r=e.document,s=r.createElement("span");let a;if(n)a=n;else try{r.body.appendChild(s);const t=i.set(r.createElementNS(i.svg,"svg")),e=i.set(r.createElementNS(i.svg,"path"));e.setAttribute("d",o.attributes.d.value),t.appendChild(e),s.appendChild(t),a=t.getBBox()}finally{r.body.removeChild(s)}if(u){const e=d(u,t,a,m);e&&(y=e)}if(c){const e=d(c,t,a,m);e&&(g=e)}}o.setAttribute("d",function(t,e){if(!e||r.toString(e)===r.toString(r.identity()))return t;const n=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi);let i,o,s,u=!1,c={x:0,y:0},p={x:0,y:0},d="";const h=function(t,e){let n=+i[t];return u&&(n+=c[e]),n},f=function(t){return{x:h(t,"x"),y:h(t+1,"y")}},m=function(t){return Number(t.toFixed(4))},_=function(t){const n=r.applyToPoint(e,t);return`${m(n.x)} ${m(n.y)} `};for(let t=0,r=n&&n.length;t<r;t++){const r=n[t],y=r[0],g=y.toLowerCase();i=r.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);const b=i&&i.length;switch(u=y===g,"z"!==o||/[mz]/.test(g)||(d+=`M ${c.x} ${c.y} `),g){case"m":case"l":{let t="m"===g;for(let e=0;e<b;e+=2)d+=t?"M ":"L ",c=f(e),d+=_(c),t&&(p=c,t=!1);s=c;break}case"h":case"v":{const t="h"===g?"x":"y";c={x:c.x,y:c.y};for(let e=0;e<b;e++)c[t]=h(e,t),d+=`L ${_(c)}`;s=c;break}case"c":for(let t=0;t<b;t+=6){const e=f(t);s=f(t+2),c=f(t+4),d+=`C ${_(e)}${_(s)}${_(c)}`}break;case"s":for(let t=0;t<b;t+=4){const e=/[cs]/.test(o)?{x:2*c.x-s.x,y:2*c.y-s.y}:c;s=f(t),c=f(t+2),d+=`C ${_(e)}${_(s)}${_(c)}`,o=g}break;case"q":for(let t=0;t<b;t+=4)s=f(t),c=f(t+2),d+=`Q ${_(s)}${_(c)}`;break;case"t":for(let t=0;t<b;t+=2)s=/[qt]/.test(o)?{x:2*c.x-s.x,y:2*c.y-s.y}:c,c=f(t),d+=`Q ${_(s)}${_(c)}`,o=g;break;case"a":for(let t=0;t<b;t+=7){c=f(t+5);const n=+i[t],r=+i[t+1],o=+i[t+2],s=+i[t+3];let u=+i[t+4];const p=l(n,r,o,e),h=a(e);p?((h.x>0&&h.y<0||h.x<0&&h.y>0)&&(u^=1),d+=`A ${m(Math.abs(p.radiusX))} ${m(Math.abs(p.radiusY))} ${m(p.rotation)} ${s} ${u} ${_(c)}`):d+=`L ${_(c)}`}break;case"z":d+="Z ",c=p}o=g}return d}(o.attributes.d.value,m)),o.removeAttribute("transform");const f=a(m);o.setAttribute("stroke-width",p(f.x,f.y)*_),y&&o.setAttribute("fill",y),g&&o.setAttribute("stroke",g)}else(function(t){return t.tagName&&u.includes(t.tagName.toLowerCase())})(o)&&(_&&!o.attributes["stroke-width"]&&o.setAttribute("stroke-width",_),y&&!o.attributes.fill&&o.setAttribute("fill",y),g&&!o.attributes.stroke&&o.setAttribute("stroke",g),m=r.compose(m,s(o)),r.toString(m)===r.toString(r.identity())?o.removeAttribute("transform"):o.setAttribute("transform",r.toString(m)))};f(t,o,1)}},942:(t,e,n)=>{const r=n(306);r.enable(),t.exports=r("scratch-svg-render")},720:t=>{window,t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t,e){return Array.isArray(e)?[t.a*e[0]+t.c*e[1]+t.e,t.b*e[0]+t.d*e[1]+t.f]:{x:t.a*e.x+t.c*e.y+t.e,y:t.b*e.x+t.d*e.y+t.f}}function i(t,e){return e.map((function(e){return r(t,e)}))}function o(t){return{a:parseFloat(t.a),b:parseFloat(t.b),c:parseFloat(t.c),d:parseFloat(t.d),e:parseFloat(t.e),f:parseFloat(t.f)}}n.r(e);var s=/^matrix\(\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*,\s*([0-9_+-.e]+)\s*\)$/i;function a(t){var e=t.match(s);if(null===e||e.length<7)throw new Error("'"+t+"' is not a matrix");return{a:parseFloat(e[1]),b:parseFloat(e[2]),c:parseFloat(e[3]),d:parseFloat(e[4]),e:parseFloat(e[5]),f:parseFloat(e[6])}}function l(){return{a:1,c:0,e:0,b:0,d:1,f:0}}function u(t){var e=t.a,n=t.b,r=t.c,i=t.d,o=t.e,s=t.f,a=e*i-n*r;return{a:i/a,b:n/-a,c:r/-a,d:e/a,e:(i*o-r*s)/-a,f:(n*o-e*s)/a}}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p=function(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)},d=function(t){return null!=t&&"object"===(void 0===t?"undefined":c(t))};function h(t){return d(t)&&t.hasOwnProperty("a")&&p(t.a)&&t.hasOwnProperty("b")&&p(t.b)&&t.hasOwnProperty("c")&&p(t.c)&&t.hasOwnProperty("d")&&p(t.d)&&t.hasOwnProperty("e")&&p(t.e)&&t.hasOwnProperty("f")&&p(t.f)}function f(t){return void 0===t}function m(t){return{a:1,c:0,e:t,b:0,d:1,f:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0}}function _(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=function(t,e){return{a:t.a*e.a+t.c*e.b,c:t.a*e.c+t.c*e.d,e:t.a*e.e+t.c*e.f+t.e,b:t.b*e.a+t.d*e.b,d:t.b*e.c+t.d*e.d,f:t.b*e.e+t.d*e.f+t.f}};switch((e=Array.isArray(e[0])?e[0]:e).length){case 0:throw new Error("no matrices provided");case 1:return e[0];case 2:return r(e[0],e[1]);default:var i=function(t){return Array.isArray(t)?t:Array.from(t)}(e),o=i[0],s=i[1],a=i.slice(2),l=r(o,s);return _.apply(void 0,[l].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(a)))}}function y(){return _.apply(void 0,arguments)}var g=Math.cos,b=Math.sin,w=Math.PI;function v(t,e,n){var r=g(t),i=b(t),o={a:r,c:-i,e:0,b:i,d:r,f:0};return f(e)||f(n)?o:_([m(e,n),o,m(-e,-n)])}function S(t){return v(t*w/180,arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0)}function A(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return f(e)&&(e=t),{a:t,c:0,e:0,b:0,d:e,f:0}}function O(t,e){return{a:1,c:t,e:0,b:e,d:1,f:0}}var x=Math.tan;function N(t,e){return{a:1,c:x(t),e:0,b:x(e),d:1,f:0}}function E(t,e){return N(t*Math.PI/180,e*Math.PI/180)}function k(t){return M(t)}function T(t){return M(t)}function M(t){return"matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")"}n.d(e,"applyToPoint",(function(){return r})),n.d(e,"applyToPoints",(function(){return i})),n.d(e,"fromObject",(function(){return o})),n.d(e,"fromString",(function(){return a})),n.d(e,"identity",(function(){return l})),n.d(e,"inverse",(function(){return u})),n.d(e,"isAffineMatrix",(function(){return h})),n.d(e,"rotate",(function(){return v})),n.d(e,"rotateDEG",(function(){return S})),n.d(e,"scale",(function(){return A})),n.d(e,"shear",(function(){return O})),n.d(e,"skew",(function(){return N})),n.d(e,"skewDEG",(function(){return E})),n.d(e,"toCSS",(function(){return k})),n.d(e,"toSVG",(function(){return T})),n.d(e,"toString",(function(){return M})),n.d(e,"transform",(function(){return _})),n.d(e,"compose",(function(){return y})),n.d(e,"translate",(function(){return m}))}])},860:(t,e,n)=>{"use strict";function r(t){return t.arrayBuffer?t.arrayBuffer():new Promise(((e,n)=>{const r=new FileReader;r.addEventListener("loadend",(()=>{e(r.result)})),r.addEventListener("error",n),r.readAsArrayBuffer(t)}))}async function i(t){const e=await r(t);return new Uint8Array(e)}function o(t){return"undefined"!=typeof Blob&&t instanceof Blob}function s(t){return"undefined"!=typeof SharedArrayBuffer&&t instanceof SharedArrayBuffer}n.d(e,{Ri:()=>Q}),t=n.hmd(t);const a="undefined"!=typeof process&&process.versions&&void 0!==process.versions.node&&void 0===process.versions.electron;class l{constructor(t){this.typedArray=t instanceof ArrayBuffer||s(t)?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}async getLength(){return this.typedArray.byteLength}async read(t,e){return new Uint8Array(this.typedArray.buffer,this.typedArray.byteOffset+t,e)}}class u{constructor(t){this.blob=t}async getLength(){return this.blob.size}async read(t,e){const n=this.blob.slice(t,t+e),i=await r(n);return new Uint8Array(i)}async sliceAsBlob(t,e,n=""){return this.blob.slice(t,t+e,n)}}function c(t,e){var n=t.length;if(e<=n)return t;var r=new Uint8Array(Math.max(n<<1,e));return r.set(t,0),r}function p(t,e,n,r,i,o){for(var s=_,a=g,l=0;l<n;){var u=t[a(r,i)&e];i+=15&u;var c=u>>>4;if(c<=15)o[l]=c,l++;else{var p=0,d=0;16==c?(d=3+s(r,i,2),i+=2,p=o[l-1]):17==c?(d=3+s(r,i,3),i+=3):18==c&&(d=11+s(r,i,7),i+=7);for(var h=l+d;l<h;)o[l]=p,l++}}return i}function d(t,e,n,r){for(var i=0,o=0,s=r.length>>>1;o<n;){var a=t[o+e];r[o<<1]=0,r[1+(o<<1)]=a,a>i&&(i=a),o++}for(;o<s;)r[o<<1]=0,r[1+(o<<1)]=0,o++;return i}function h(t,e){for(var n,r,i,o,s=t.length,a=b.bl_count,l=0;l<=e;l++)a[l]=0;for(l=1;l<s;l+=2)a[t[l]]++;var u=b.next_code;for(n=0,a[0]=0,r=1;r<=e;r++)n=n+a[r-1]<<1,u[r]=n;for(i=0;i<s;i+=2)0!=(o=t[i+1])&&(t[i]=u[o],u[o]++)}function f(t,e,n){for(var r=t.length,i=b.rev15,o=0;o<r;o+=2)if(0!=t[o+1])for(var s=o>>1,a=t[o+1],l=s<<4|a,u=e-a,c=t[o]<<u,p=c+(1<<u);c!=p;){n[i[c]>>>15-e]=l,c++}}function m(t,e){for(var n=b.rev15,r=15-e,i=0;i<t.length;i+=2){var o=t[i]<<e-t[i+1];t[i]=n[o]>>>r}}function _(t,e,n){return(t[e>>>3]|t[1+(e>>>3)]<<8)>>>(7&e)&(1<<n)-1}function y(t,e,n){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)&(1<<n)-1}function g(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)}const b=(w=Uint16Array,v=Uint32Array,{next_code:new w(16),bl_count:new w(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new w(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new v(32),flmap:new w(512),fltree:[],fdmap:new w(32),fdtree:[],lmap:new w(32768),ltree:[],ttree:[],dmap:new w(32768),dtree:[],imap:new w(512),itree:[],rev15:new w(32768),lhst:new v(286),dhst:new v(30),ihst:new v(19),lits:new v(15e3),strt:new w(65536),prev:new w(32768)});var w,v;!function(){for(var t=0;t<32768;t++){var e=t;e=(4278255360&(e=(4042322160&(e=(3435973836&(e=(2863311530&e)>>>1|(1431655765&e)<<1))>>>2|(858993459&e)<<2))>>>4|(252645135&e)<<4))>>>8|(16711935&e)<<8,b.rev15[t]=(e>>>16|e<<16)>>>17}function n(t,e,n){for(;0!=e--;)t.push(0,n)}for(t=0;t<32;t++)b.ldef[t]=b.of0[t]<<3|b.exb[t],b.ddef[t]=b.df0[t]<<4|b.dxb[t];n(b.fltree,144,8),n(b.fltree,112,9),n(b.fltree,24,7),n(b.fltree,8,8),h(b.fltree,9),f(b.fltree,9,b.flmap),m(b.fltree,9),n(b.fdtree,32,5),h(b.fdtree,5),f(b.fdtree,5,b.fdmap),m(b.fdtree,5),n(b.itree,19,0),n(b.ltree,286,0),n(b.dtree,30,0),n(b.ttree,320,0)}();const S={table:function(){for(var t=new Uint32Array(256),e=0;e<256;e++){for(var n=e,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;t[e]=n}return t}(),update:function(t,e,n,r){for(var i=0;i<r;i++)t=S.table[255&(t^e[n+i])]^t>>>8;return t},crc:function(t,e,n){return 4294967295^S.update(4294967295,t,e,n)}};function A(t,e){return function(t,e){var n=Uint8Array;if(3==t[0]&&0==t[1])return e||new n(0);var r=y,i=_,o=p,s=g,a=null==e;a&&(e=new n(t.length>>>2<<3));for(var l,u,m=0,w=0,v=0,S=0,A=0,O=0,x=0,N=0,E=0;0==m;)if(m=r(t,E,1),w=r(t,E+1,2),E+=3,0!=w){if(a&&(e=c(e,N+(1<<17))),1==w&&(l=b.flmap,u=b.fdmap,O=511,x=31),2==w){v=i(t,E,5)+257,S=i(t,E+5,5)+1,A=i(t,E+10,4)+4,E+=14;for(var k=0;k<38;k+=2)b.itree[k]=0,b.itree[k+1]=0;var T=1;for(k=0;k<A;k++){var M=i(t,E+3*k,3);b.itree[1+(b.ordr[k]<<1)]=M,M>T&&(T=M)}E+=3*A,h(b.itree,T),f(b.itree,T,b.imap),l=b.lmap,u=b.dmap,E=o(b.imap,(1<<T)-1,v+S,t,E,b.ttree);var L=d(b.ttree,0,v,b.ltree);O=(1<<L)-1;var R=d(b.ttree,v,S,b.dtree);x=(1<<R)-1,h(b.ltree,L),f(b.ltree,L,l),h(b.dtree,R),f(b.dtree,R,u)}for(;;){var I=l[s(t,E)&O];E+=15&I;var B=I>>>4;if(B>>>8==0)e[N++]=B;else{if(256==B)break;var C=N+B-254;if(B>264){var D=b.ldef[B-257];C=N+(D>>>3)+i(t,E,7&D),E+=7&D}var P=u[s(t,E)&x];E+=15&P;var U=P>>>4,F=b.ddef[U],z=(F>>>4)+r(t,E,15&F);for(E+=15&F,a&&(e=c(e,N+(1<<17)));N<C;)e[N]=e[N++-z],e[N]=e[N++-z],e[N]=e[N++-z],e[N]=e[N++-z];N=C}}}else{0!=(7&E)&&(E+=8-(7&E));var H=4+(E>>>3),j=t[H-4]|t[H-3]<<8;a&&(e=c(e,N+j)),e.set(new n(t.buffer,t.byteOffset+H,j),N),E=H+j<<3,N+=j}return e.length==N?e:e.slice(0,N)}(t,e)}const O={numWorkers:1,workerURL:"",useWorkers:!1};let x=0,N=0,E=!0;const k=[],T=[],M=[],L=new Map;function R(t){C(t.target);const{id:e,error:n,data:r}=t.data,i=L.get(e);L.delete(e),n?i.reject(n):i.resolve(r)}function I(t){return new Promise(((e,n)=>{const r=new Worker(t);r.onmessage=t=>{"start"===t.data?(r.onerror=void 0,r.onmessage=void 0,e(r)):n(new Error(`unexpected message: ${t.data}`))},r.onerror=n}))}const B=function(){if(a){const{Worker:n}=(e="worker_threads",t.require(e));return{createWorker:async t=>new n(t),addEventListener(t,e){t.on("message",(n=>{e({target:t,data:n})}))},async terminate(t){await t.terminate()}}}return{async createWorker(t){try{return await I(t)}catch(e){console.warn("could not load worker:",t)}let e;try{const n=await fetch(t,{mode:"cors"});if(!n.ok)throw new Error(`could not load: ${t}`);e=await n.text(),t=URL.createObjectURL(new Blob([e],{type:"application/javascript"}));const r=await I(t);return O.workerURL=t,r}catch(e){console.warn("could not load worker via fetch:",t)}if(void 0!==e)try{t=`data:application/javascript;base64,${btoa(e)}`;const n=await I(t);return O.workerURL=t,n}catch(t){console.warn("could not load worker via dataURI")}throw console.warn("workers will not be used"),new Error("can not start workers")},addEventListener(t,e){t.addEventListener("message",e)},async terminate(t){t.terminate()}};var e}();function C(t){T.push(t),P()}function D(t,e,n,r){const i=new Uint8Array(e);A(t,i),r(n?new Blob([i],{type:n}):i.buffer)}async function P(){if(0!==M.length){if(O.useWorkers&&E){const t=await async function(){if(0===T.length&&N<O.numWorkers){++N;try{const t=await B.createWorker(O.workerURL);k.push(t),T.push(t),B.addEventListener(t,R)}catch(t){E=!1}}return T.pop()}();if(E){if(t){if(0===M.length)return void C(t);const{id:e,src:n,uncompressedSize:r,type:i,resolve:o,reject:s}=M.shift();L.set(e,{id:e,resolve:o,reject:s});const a=[];t.postMessage({type:"inflate",data:{id:e,type:i,src:n,uncompressedSize:r}},a)}return}}for(;M.length;){const{src:t,uncompressedSize:e,type:n,resolve:r}=M.shift();let s=t;o(t)&&(s=await i(t)),D(s,e,n,r)}}}function U(t,e,n){return new Promise(((r,i)=>{M.push({src:t,uncompressedSize:e,type:n,resolve:r,reject:i,id:x++}),P()}))}class F{constructor(t,e){var n,r;this._reader=t,this._rawEntry=e,this.name=e.name,this.nameBytes=e.nameBytes,this.size=e.uncompressedSize,this.compressedSize=e.compressedSize,this.comment=e.comment,this.commentBytes=e.commentBytes,this.compressionMethod=e.compressionMethod,this.lastModDate=(n=e.lastModFileDate,r=e.lastModFileTime,new Date(1980+(n>>9&127),(n>>5&15)-1,31&n,r>>11&31,r>>5&63,2*(31&r),0)),this.isDirectory=0===e.uncompressedSize&&e.name.endsWith("/"),this.encrypted=!!(1&e.generalPurposeBitFlag)}async blob(t="application/octet-stream"){return await async function(t,e,n){const{decompress:r,fileDataStart:i}=await J(t,e);if(!r){const r=await H(t,i,e.compressedSize,n);return o(r)?r:new Blob([s(r.buffer)?new Uint8Array(r):r],{type:n})}const a=await H(t,i,e.compressedSize);return await U(a,e.uncompressedSize,n)}(this._reader,this._rawEntry,t)}async arrayBuffer(){return await async function(t,e){const{decompress:n,fileDataStart:r}=await J(t,e);if(!n){const n=await z(t,r,e.compressedSize);return 0===(i=n).byteOffset&&i.byteLength===i.buffer.byteLength?n.buffer:n.slice().buffer}var i;const o=await H(t,r,e.compressedSize);return await U(o,e.uncompressedSize)}(this._reader,this._rawEntry)}async text(){const t=await this.arrayBuffer();return $(new Uint8Array(t))}async json(){const t=await this.text();return JSON.parse(t)}}async function z(t,e,n){return await t.read(e,n)}async function H(t,e,n,r){return t.sliceAsBlob?await t.sliceAsBlob(e,n,r):await t.read(e,n)}const j={unsigned:()=>0};function X(t,e){return t[e]+256*t[e+1]}function V(t,e){return t[e]+256*t[e+1]+65536*t[e+2]+16777216*t[e+3]}function G(t,e){return V(t,e)+4294967296*V(t,e+4)}const W=new TextDecoder;function $(t,e){return s(t.buffer)&&(t=new Uint8Array(t)),W.decode(t)}async function Y(t,e,n,r){const i=e-20,o=await z(t,i,20);if(117853008!==V(o,0))throw new Error("invalid zip64 end of central directory locator signature");const s=G(o,8),a=await z(t,s,56);if(101075792!==V(a,0))throw new Error("invalid zip64 end of central directory record signature");const l=G(a,32),u=G(a,40);return q(t,G(a,48),u,l,n,r)}async function q(t,e,n,r,i,o){let s=0;const a=await z(t,e,n),l=[];for(let t=0;t<r;++t){const t=a.subarray(s,s+46),e=V(t,0);if(33639248!==e)throw new Error(`invalid central directory file header signature: 0x${e.toString(16)}`);const n={versionMadeBy:X(t,4),versionNeededToExtract:X(t,6),generalPurposeBitFlag:X(t,8),compressionMethod:X(t,10),lastModFileTime:X(t,12),lastModFileDate:X(t,14),crc32:V(t,16),compressedSize:V(t,20),uncompressedSize:V(t,24),fileNameLength:X(t,28),extraFieldLength:X(t,30),fileCommentLength:X(t,32),internalFileAttributes:X(t,36),externalFileAttributes:V(t,38),relativeOffsetOfLocalHeader:V(t,42)};if(64&n.generalPurposeBitFlag)throw new Error("strong encryption is not supported");s+=46;const r=a.subarray(s,s+n.fileNameLength+n.extraFieldLength+n.fileCommentLength);n.nameBytes=r.slice(0,n.fileNameLength),n.name=$(n.nameBytes);const i=n.fileNameLength+n.extraFieldLength,o=r.slice(n.fileNameLength,i);n.extraFields=[];let u=0;for(;u<o.length-3;){const t=X(o,u+0),e=u+4,r=e+X(o,u+2);if(r>o.length)throw new Error("extra field length exceeds extra field buffer size");n.extraFields.push({id:t,data:o.slice(e,r)}),u=r}if(n.commentBytes=r.slice(i,i+n.fileCommentLength),n.comment=$(n.commentBytes),s+=r.length,4294967295===n.uncompressedSize||4294967295===n.compressedSize||4294967295===n.relativeOffsetOfLocalHeader){const t=n.extraFields.find((t=>1===t.id));if(!t)return new Error("expected zip64 extended information extra field");const e=t.data;let r=0;if(4294967295===n.uncompressedSize){if(r+8>e.length)throw new Error("zip64 extended information extra field does not include uncompressed size");n.uncompressedSize=G(e,r),r+=8}if(4294967295===n.compressedSize){if(r+8>e.length)throw new Error("zip64 extended information extra field does not include compressed size");n.compressedSize=G(e,r),r+=8}if(4294967295===n.relativeOffsetOfLocalHeader){if(r+8>e.length)throw new Error("zip64 extended information extra field does not include relative header offset");n.relativeOffsetOfLocalHeader=G(e,r),r+=8}}const c=n.extraFields.find((t=>28789===t.id&&t.data.length>=6&&1===t.data[0]&&V(t.data,1)),j.unsigned(n.nameBytes));if(c&&(n.fileName=$(c.data.slice(5))),0===n.compressionMethod){let t=n.uncompressedSize;if(0!=(1&n.generalPurposeBitFlag)&&(t+=12),n.compressedSize!==t)throw new Error(`compressed size mismatch for stored file: ${n.compressedSize} != ${t}`)}l.push(n)}return{zip:{comment:i,commentBytes:o},entries:l.map((e=>new F(t,e)))}}async function J(t,e){if(1&e.generalPurposeBitFlag)throw new Error("encrypted entries not supported");const n=await z(t,e.relativeOffsetOfLocalHeader,30),r=await t.getLength(),i=V(n,0);if(67324752!==i)throw new Error(`invalid local file header signature: 0x${i.toString(16)}`);const o=X(n,26),s=X(n,28),a=e.relativeOffsetOfLocalHeader+n.length+o+s;let l;if(0===e.compressionMethod)l=!1;else{if(8!==e.compressionMethod)throw new Error(`unsupported compression method: ${e.compressionMethod}`);l=!0}const u=a,c=u+e.compressedSize;if(0!==e.compressedSize&&c>r)throw new Error(`file data overflows file bounds: ${u} +  ${e.compressedSize}  > ${r}`);return{decompress:l,fileDataStart:u}}async function K(t){let e;if("undefined"!=typeof Blob&&t instanceof Blob)e=new u(t);else if(t instanceof ArrayBuffer||t&&t.buffer&&t.buffer instanceof ArrayBuffer)e=new l(t);else if(s(t)||s(t.buffer))e=new l(t);else if("string"==typeof t){const n=await fetch(t);if(!n.ok)throw new Error(`failed http request ${t}, status: ${n.status}: ${n.statusText}`);const r=await n.blob();e=new u(r)}else{if("function"!=typeof t.getLength||"function"!=typeof t.read)throw new Error("unsupported source type");e=t}const n=await e.getLength();if(n>Number.MAX_SAFE_INTEGER)throw new Error(`file too large. size: ${n}. Only file sizes up 4503599627370496 bytes are supported`);return await async function(t,e){const n=Math.min(65557,e),r=e-n,i=await z(t,r,n);for(let e=n-22;e>=0;--e){if(101010256!==V(i,e))continue;const n=new Uint8Array(i.buffer,i.byteOffset+e,i.byteLength-e),o=X(n,4);if(0!==o)throw new Error(`multi-volume zip files are not supported. This is volume: ${o}`);const s=X(n,10),a=V(n,12),l=V(n,16),u=X(n,20),c=n.length-22;if(u!==c)throw new Error(`invalid comment length. expected: ${c}, actual: ${u}`);const p=new Uint8Array(n.buffer,n.byteOffset+22,u),d=$(p);return 65535===s||4294967295===l?await Y(t,r+e,d,p):await q(t,l,a,s,d,p)}throw new Error("could not find end of central directory. maybe not zip file")}(e,n)}async function Q(t){const{zip:e,entries:n}=await K(t);return{zip:e,entries:Object.fromEntries(n.map((t=>[t.name,t])))}}},558:t=>{"use strict";function e(t,e){if(e=e||{},null===(t=function(t){var e={};if("number"!=typeof t.sampleRate)return null;if(!Array.isArray(t.channelData))return null;if(!(t.channelData[0]instanceof Float32Array))return null;return e.numberOfChannels=t.channelData.length,e.length=0|t.channelData[0].length,e.sampleRate=0|t.sampleRate,e.channelData=t.channelData,e}(t)))throw new TypeError("Invalid AudioData");var n=!(!e.floatingPoint&&!e.float),r=n?32:0|e.bitDepth||16,i=r>>3,o=t.length*t.numberOfChannels*i,s=new DataView(new Uint8Array(44+o).buffer),a=function(t){var e=0;return{int16:function(n){t.setInt16(e,n,!0),e+=2},uint16:function(n){t.setUint16(e,n,!0),e+=2},uint32:function(n){t.setUint32(e,n,!0),e+=4},string:function(n){for(var r=0,i=n.length;r<i;r++)t.setUint8(e++,n.charCodeAt(r))},pcm8:function(n){n=255*(.5*(n=Math.max(-1,Math.min(n,1)))+.5),n=0|Math.round(n),t.setUint8(e,n,!0),e+=1},pcm8s:function(n){n=Math.round(128*n)+128,n=Math.max(0,Math.min(n,255)),t.setUint8(e,n,!0),e+=1},pcm16:function(n){n=(n=Math.max(-1,Math.min(n,1)))<0?32768*n:32767*n,n=0|Math.round(n),t.setInt16(e,n,!0),e+=2},pcm16s:function(n){n=Math.round(32768*n),n=Math.max(-32768,Math.min(n,32767)),t.setInt16(e,n,!0),e+=2},pcm24:function(n){n=(n=Math.max(-1,Math.min(n,1)))<0?16777216+8388608*n:8388607*n;var r=(n=0|Math.round(n))>>0&255,i=n>>8&255,o=n>>16&255;t.setUint8(e+0,r),t.setUint8(e+1,i),t.setUint8(e+2,o),e+=3},pcm24s:function(n){n=Math.round(8388608*n);var r=(n=Math.max(-8388608,Math.min(n,8388607)))>>0&255,i=n>>8&255,o=n>>16&255;t.setUint8(e+0,r),t.setUint8(e+1,i),t.setUint8(e+2,o),e+=3},pcm32:function(n){n=(n=Math.max(-1,Math.min(n,1)))<0?2147483648*n:2147483647*n,n=0|Math.round(n),t.setInt32(e,n,!0),e+=4},pcm32s:function(n){n=Math.round(2147483648*n),n=Math.max(-2147483648,Math.min(n,2147483647)),t.setInt32(e,n,!0),e+=4},pcm32f:function(n){t.setFloat32(e,n,!0),e+=4}}}(s),l={formatId:n?3:1,floatingPoint:n,numberOfChannels:t.numberOfChannels,sampleRate:t.sampleRate,bitDepth:r};!function(t,e,n){var r=e.bitDepth>>3;t.string("RIFF"),t.uint32(n),t.string("WAVE"),t.string("fmt "),t.uint32(16),t.uint16(e.floatingPoint?3:1),t.uint16(e.numberOfChannels),t.uint32(e.sampleRate),t.uint32(e.sampleRate*e.numberOfChannels*r),t.uint16(e.numberOfChannels*r),t.uint16(e.bitDepth)}(a,l,s.buffer.byteLength-8);var u=function(t,e,n,r,i){var o=e.bitDepth,s=e.floatingPoint?"f":i.symmetric?"s":"",a="pcm"+o+s;if(!t[a])return new TypeError("Not supported bit depth: "+o);var l=t[a].bind(t),u=e.numberOfChannels,c=r.channelData;t.string("data"),t.uint32(n);for(var p=0,d=r.length;p<d;p++)for(var h=0;h<u;h++)l(c[h][p])}(a,l,o,t,e);if(u instanceof Error)throw u;return s.buffer}t.exports.c=function(t,n){return new Promise((function(r){r(e(t,n))}))},t.exports.c.sync=e},283:t=>{class e{constructor(t,e=0,n=t.byteLength,{_uint8View:r=new Uint8Array(t)}={}){this.arrayBuffer=t,this.start=e,this.end=n,this._uint8View=r,this._position=e}extract(t){return new e(this.arrayBuffer,this._position,this._position+t,this)}getLength(){return this.end-this.start}getBytesAvailable(){return this.end-this._position}get position(){return this._position-this.start}set position(t){return this._position=t+this.start,t}readUint8(){const t=this._uint8View[this._position];return this._position+=1,t}readUint8String(t){const e=this._uint8View;let n="";const r=this._position+t;for(let t=this._position;t<r;t++)n+=String.fromCharCode(e[t]);return this._position+=t,n}readInt16(){const t=new Int16Array(this.arrayBuffer,this._position,1)[0];return this._position+=2,t}readUint16(){const t=new Uint16Array(this.arrayBuffer,this._position,1)[0];return this._position+=2,t}readInt32(){const t=new Int32Array(this.arrayBuffer,this._position,1)[0];return this._position+=4,t}readUint32(){const t=new Uint32Array(this.arrayBuffer,this._position,1)[0];return this._position+=4,t}}t.exports=e}},__webpack_module_cache__={};function __webpack_require__(t){if(__webpack_module_cache__[t])return __webpack_module_cache__[t].exports;var e=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(e.exports,e,e.exports,__webpack_require__),e.loaded=!0,e.exports}__webpack_require__.amdO={},__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var __webpack_exports__={};(()=>{"use strict";var t,e,n,r,i={},o=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(t,e){for(var n in e)t[n]=e[n];return t}function l(t){var e=t.parentNode;e&&e.removeChild(t)}function u(t,e,n){var r,i,o,s=arguments,a={};for(o in e)"key"==o?r=e[o]:"ref"==o?i=e[o]:a[o]=e[o];if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(s[o]);if(null!=n&&(a.children=n),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===a[o]&&(a[o]=t.defaultProps[o]);return c(t,a,r,i,null)}function c(e,n,r,i,o){var s={type:e,props:n,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++t.__v:o};return null!=t.vnode&&t.vnode(s),s}function p(t){return t.children}function d(t,e){this.props=t,this.context=e}function h(t,e){if(null==e)return t.__?h(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?h(t):null}function f(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return f(t)}}function m(i){(!i.__d&&(i.__d=!0)&&e.push(i)&&!_.__r++||r!==t.debounceRendering)&&((r=t.debounceRendering)||n)(_)}function _(){for(var t;_.__r=e.length;)t=e.sort((function(t,e){return t.__v.__b-e.__v.__b})),e=[],t.some((function(t){var e,n,r,i,o,s;t.__d&&(o=(i=(e=t).__v).__e,(s=e.__P)&&(n=[],(r=a({},i)).__v=i.__v+1,O(s,i,r,e.__n,void 0!==s.ownerSVGElement,null!=i.__h?[o]:null,n,null==o?h(i):o,i.__h),x(n,i),i.__e!=o&&f(i)))}))}function y(t,e,n,r,s,a,l,u,d,f){var m,_,y,w,v,S,A,x=r&&r.__k||o,N=x.length;for(n.__k=[],m=0;m<e.length;m++)if(null!=(w=n.__k[m]=null==(w=e[m])||"boolean"==typeof w?null:"string"==typeof w||"number"==typeof w?c(null,w,null,null,w):Array.isArray(w)?c(p,{children:w},null,null,null):w.__b>0?c(w.type,w.props,w.key,null,w.__v):w)){if(w.__=n,w.__b=n.__b+1,null===(y=x[m])||y&&w.key==y.key&&w.type===y.type)x[m]=void 0;else for(_=0;_<N;_++){if((y=x[_])&&w.key==y.key&&w.type===y.type){x[_]=void 0;break}y=null}O(t,w,y=y||i,s,a,l,u,d,f),v=w.__e,(_=w.ref)&&y.ref!=_&&(A||(A=[]),y.ref&&A.push(y.ref,null,w),A.push(_,w.__c||v,w)),null!=v?(null==S&&(S=v),"function"==typeof w.type&&null!=w.__k&&w.__k===y.__k?w.__d=d=g(w,d,t):d=b(t,w,y,x,v,d),f||"option"!==n.type?"function"==typeof n.type&&(n.__d=d):t.value=""):d&&y.__e==d&&d.parentNode!=t&&(d=h(y))}for(n.__e=S,m=N;m--;)null!=x[m]&&("function"==typeof n.type&&null!=x[m].__e&&x[m].__e==n.__d&&(n.__d=h(r,m+1)),k(x[m],x[m]));if(A)for(m=0;m<A.length;m++)E(A[m],A[++m],A[++m])}function g(t,e,n){var r,i;for(r=0;r<t.__k.length;r++)(i=t.__k[r])&&(i.__=t,e="function"==typeof i.type?g(i,e,n):b(n,i,i,t.__k,i.__e,e));return e}function b(t,e,n,r,i,o){var s,a,l;if(void 0!==e.__d)s=e.__d,e.__d=void 0;else if(null==n||i!=o||null==i.parentNode)t:if(null==o||o.parentNode!==t)t.appendChild(i),s=null;else{for(a=o,l=0;(a=a.nextSibling)&&l<r.length;l+=2)if(a==i)break t;t.insertBefore(i,o),s=o}return void 0!==s?s:i.nextSibling}function w(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||s.test(e)?n:n+"px"}function v(t,e,n,r,i){var o;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||w(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||w(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r||t.addEventListener(e,o?A:S,o):t.removeEventListener(e,o?A:S,o);else if("dangerouslySetInnerHTML"!==e){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null!=n&&(!1!==n||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,n):t.removeAttribute(e))}}function S(e){this.l[e.type+!1](t.event?t.event(e):e)}function A(e){this.l[e.type+!0](t.event?t.event(e):e)}function O(e,n,r,i,o,s,l,u,c){var h,f,m,_,g,b,w,v,S,A,O,x=n.type;if(void 0!==n.constructor)return null;null!=r.__h&&(c=r.__h,u=n.__e=r.__e,n.__h=null,s=[u]),(h=t.__b)&&h(n);try{t:if("function"==typeof x){if(v=n.props,S=(h=x.contextType)&&i[h.__c],A=h?S?S.props.value:h.__:i,r.__c?w=(f=n.__c=r.__c).__=f.__E:("prototype"in x&&x.prototype.render?n.__c=f=new x(v,A):(n.__c=f=new d(v,A),f.constructor=x,f.render=T),S&&S.sub(f),f.props=v,f.state||(f.state={}),f.context=A,f.__n=i,m=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=x.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=a({},f.__s)),a(f.__s,x.getDerivedStateFromProps(v,f.__s))),_=f.props,g=f.state,m)null==x.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==x.getDerivedStateFromProps&&v!==_&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(v,A),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(v,f.__s,A)||n.__v===r.__v){f.props=v,f.state=f.__s,n.__v!==r.__v&&(f.__d=!1),f.__v=n,n.__e=r.__e,n.__k=r.__k,f.__h.length&&l.push(f);break t}null!=f.componentWillUpdate&&f.componentWillUpdate(v,f.__s,A),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(_,g,b)}))}f.context=A,f.props=v,f.state=f.__s,(h=t.__r)&&h(n),f.__d=!1,f.__v=n,f.__P=e,h=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(i=a(a({},i),f.getChildContext())),m||null==f.getSnapshotBeforeUpdate||(b=f.getSnapshotBeforeUpdate(_,g)),O=null!=h&&h.type===p&&null==h.key?h.props.children:h,y(e,Array.isArray(O)?O:[O],n,r,i,o,s,l,u,c),f.base=n.__e,n.__h=null,f.__h.length&&l.push(f),w&&(f.__E=f.__=null),f.__e=!1}else null==s&&n.__v===r.__v?(n.__k=r.__k,n.__e=r.__e):n.__e=N(r.__e,n,r,i,o,s,l,c);(h=t.diffed)&&h(n)}catch(e){n.__v=null,(c||null!=s)&&(n.__e=u,n.__h=!!c,s[s.indexOf(u)]=null),t.__e(e,n,r)}}function x(e,n){t.__c&&t.__c(n,e),e.some((function(n){try{e=n.__h,n.__h=[],e.some((function(t){t.call(n)}))}catch(e){t.__e(e,n.__v)}}))}function N(t,e,n,r,s,a,u,c){var p,d,h,f,m=n.props,_=e.props,g=e.type,b=0;if("svg"===g&&(s=!0),null!=a)for(;b<a.length;b++)if((p=a[b])&&(p===t||(g?p.localName==g:3==p.nodeType))){t=p,a[b]=null;break}if(null==t){if(null===g)return document.createTextNode(_);t=s?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,_.is&&_),a=null,c=!1}if(null===g)m===_||c&&t.data===_||(t.data=_);else{if(a=a&&o.slice.call(t.childNodes),d=(m=n.props||i).dangerouslySetInnerHTML,h=_.dangerouslySetInnerHTML,!c){if(null!=a)for(m={},f=0;f<t.attributes.length;f++)m[t.attributes[f].name]=t.attributes[f].value;(h||d)&&(h&&(d&&h.__html==d.__html||h.__html===t.innerHTML)||(t.innerHTML=h&&h.__html||""))}if(function(t,e,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in e||v(t,o,null,n[o],r);for(o in e)i&&"function"!=typeof e[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===e[o]||v(t,o,e[o],n[o],r)}(t,_,m,s,c),h)e.__k=[];else if(b=e.props.children,y(t,Array.isArray(b)?b:[b],e,n,r,s&&"foreignObject"!==g,a,u,t.firstChild,c),null!=a)for(b=a.length;b--;)null!=a[b]&&l(a[b]);c||("value"in _&&void 0!==(b=_.value)&&(b!==t.value||"progress"===g&&!b)&&v(t,"value",b,m.value,!1),"checked"in _&&void 0!==(b=_.checked)&&b!==t.checked&&v(t,"checked",b,m.checked,!1))}return t}function E(e,n,r){try{"function"==typeof e?e(n):e.current=n}catch(e){t.__e(e,r)}}function k(e,n,r){var i,o,s;if(t.unmount&&t.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||E(i,null,n)),r||"function"==typeof e.type||(r=null!=(o=e.__e)),e.__e=e.__d=void 0,null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){t.__e(e,n)}i.base=i.__P=null}if(i=e.__k)for(s=0;s<i.length;s++)i[s]&&k(i[s],n,r);null!=o&&l(o)}function T(t,e,n){return this.constructor(t,n)}function M(e,n,r){var s,a,l;t.__&&t.__(e,n),a=(s="function"==typeof r)?null:r&&r.__k||n.__k,l=[],O(n,e=(!s&&r||n).__k=u(p,null,[e]),a||i,i,void 0!==n.ownerSVGElement,!s&&r?[r]:a?null:n.firstChild?o.slice.call(n.childNodes):null,l,!s&&r?r:a?a.__e:n.firstChild,s),x(l,e)}t={__e:function(t,e){for(var n,r,i;e=e.__;)if((n=e.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(t)),i=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(t),i=n.__d),i)return n.__E=n}catch(e){t=e}throw t},__v:0},d.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),"function"==typeof t&&(t=t(a({},n),this.props)),t&&a(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),m(this))},d.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),m(this))},d.prototype.render=p,e=[],n="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_.__r=0;var L=__webpack_require__(782),R=__webpack_require__(860),I=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};class B{base64(){return I(this,void 0,void 0,(function*(){return L.JQ(yield this.uint8array())}))}text(){return I(this,void 0,void 0,(function*(){return(new TextDecoder).decode(yield this.uint8array())}))}}class C extends B{constructor(t){super(),this.file=t}uint8array(){return I(this,void 0,void 0,(function*(){return new Uint8Array(yield this.file.arrayBuffer())}))}}class D{load(t){return I(this,void 0,void 0,(function*(){const{zip:e,entries:n}=yield R.Ri(t);return this.zip=e,this.entries=n,this}))}file(t){return new C(this.entries[t])}}class P extends B{constructor(t){super(),this.file=t}uint8array(){return I(this,void 0,void 0,(function*(){return this.file.async("uint8array")}))}}class U{constructor(t){this.zip=t}file(t){return new P(this.zip.file(t))}}class F extends B{constructor(t){super(),this.fileName=t}uint8array(){return I(this,void 0,void 0,(function*(){const t=yield fetch(`https://assets.scratch.mit.edu/internalapi/asset/${this.fileName}/get/`);return new Uint8Array(yield t.arrayBuffer())}))}}class z{file(t){return new F(t)}}const H="https://scratch.mit.edu/projects/";class j extends d{constructor(t){super(t),this.state={projectID:"",projectURL:H}}render(){return u("input",{class:"url",value:this.state.projectURL,onFocus:this.handleFocus.bind(this),onInput:this.handleInput.bind(this)})}componentWillUnmount(){null!=this.timeoutID&&window.clearTimeout(this.timeoutID)}handleFocus(t){""!==this.state.projectID&&t.target.select()}handleInput(t){const e=(t.target.value.match(/\d+/g)||[""])[0],n=H+e;this.setState({projectID:e,projectURL:n}),n!==this.state.projectURL&&(null!=this.timeoutID&&window.clearTimeout(this.timeoutID),""!==e&&this.props.onProjectID&&(this.timeoutID=window.setTimeout((()=>{this.props.onProjectID(e),this.timeoutID=null}),500)))}}var X=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};class V{constructor(){this.dataIsURL=!1}load(t,e,n,r,i,o){return X(this,void 0,void 0,(function*(){this.dataFormat=n;const r=e+"."+n,i=t.file(r);if(!i)throw new Error(`${r} does not exist`);return this.data=yield i.base64(),this}))}toDataURL(){return this.dataIsURL?this.data:"data:"+{gif:"image/gif",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",wav:"audio/x-wav",mp3:"audio/mpeg"}[this.dataFormat]+";base64,"+this.data}}var G=__webpack_require__(285),W=__webpack_require__.n(G),$=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};class Y extends V{load(t,e,n,r,i,o){const s=Object.create(null,{load:{get:()=>super.load}});return $(this,void 0,void 0,(function*(){this.dataFormat=n;const a=e+"."+n,l=t.file(a);if(!l)throw new Error(`${a} does not exist`);if("svg"===n){let t=yield l.text();this.data=L.JQ((new TextEncoder).encode(this.fixSVG(t,i)))}else yield s.load.call(this,t,e,n,r),1!==o&&(yield this.fixResolution(o));return this}))}fixSVG(t,e){const n=W()(t,2===e);return(new XMLSerializer).serializeToString(n)}fixResolution(t){return $(this,void 0,void 0,(function*(){return new Promise((e=>{1===t&&e();const n=document.createElement("img");n.onload=()=>{const r=document.createElement("canvas"),i=r.getContext("2d");i.imageSmoothingEnabled=!1,r.width=n.width/t,r.height=n.height/t,i.drawImage(n,0,0,n.width,n.height,0,0,n.width/t,n.height/t),this.data=r.toDataURL(),this.dataFormat="png",this.dataIsURL=!0,e()},n.src=this.toDataURL()}))}))}addTextLayer(t){return $(this,void 0,void 0,(function*(){return new Promise((e=>{const n=document.createElement("img");n.onload=()=>{const r=document.createElement("img");r.onload=()=>{const t=document.createElement("canvas"),i=t.getContext("2d");t.width=n.width,t.height=n.height,i.drawImage(n,0,0),i.drawImage(r,0,0);const o=new Y;o.data=t.toDataURL(),o.dataFormat="png",o.dataIsURL=!0,e(o)},r.src=t.toDataURL()},n.src=this.toDataURL()}))}))}}var q=__webpack_require__(283),J=__webpack_require__.n(q);class K{constructor(t,e,n){this.sampleRate=n,this.channelData=1===t?[new Float32Array(e)]:[new Float32Array(e),new Float32Array(e)]}}const Q=[7,8,9,10,11,12,13,14,16,17,19,21,23,25,28,31,34,37,41,45,50,55,60,66,73,80,88,97,107,118,130,143,157,173,190,209,230,253,279,307,337,371,408,449,494,544,598,658,724,796,876,963,1060,1166,1282,1411,1552,1707,1878,2066,2272,2499,2749,3024,3327,3660,4026,4428,4871,5358,5894,6484,7132,7845,8630,9493,10442,11487,12635,13899,15289,16818,18500,20350,22385,24623,27086,29794,32767],Z=[-1,-1,-1,-1,2,4,6,8,-1,-1,-1,-1,2,4,6,8];let tt=null;class et{constructor(t){this.log=t}static get STEP_TABLE(){return Q}static get INDEX_TABLE(){return Z}decode(t){return new Promise(((e,n)=>{const r=new(J())(t);"RIFF"!==r.readUint8String(4)&&(this.log("incorrect adpcm wav header"),n());const i=r.readInt32();i+8!==t.byteLength&&this.log(`adpcm wav length in header: ${i} is incorrect`);"WAVE"!==r.readUint8String(4)&&(this.log("incorrect adpcm wav header"),n());const o=this.extractChunk("fmt ",r);this.encoding=o.readUint16(),this.channels=o.readUint16(),this.samplesPerSecond=o.readUint32(),this.bytesPerSecond=o.readUint32(),this.blockAlignment=o.readUint16(),this.bitsPerSample=o.readUint16(),o.position+=2,this.samplesPerBlock=o.readUint16(),this.adpcmBlockSize=(this.samplesPerBlock-1)/2+4;const s=this.extractChunk("data",r),a=this.numberOfSamples(s,this.adpcmBlockSize),l=new K(1,a,this.samplesPerSecond);this.imaDecompress(s,this.adpcmBlockSize,l.channelData[0]),e(l)}))}extractChunk(t,e){for(e.position=12;e.position<e.getLength()-8;){const n=e.readUint8String(4),r=e.readInt32();if(n===t){return e.extract(r)}e.position+=r}}numberOfSamples(t,e){if(!t)return 0;t.position=0;const n=t.getBytesAvailable();return(n/e|0)*(2*(e-4))+1+2*Math.max(n%e-4,0)+Math.min(n%e,1)}imaDecompress(t,e,n){let r,i,o,s=0,a=-1;if(!t)return;t.position=0;const l=n.length,u=2*(e-4),c=function(){if(null===tt){const t=Q.length,e=Z.length;tt=new Array(t*e).fill(0);let n=0;for(let r=0;r<t;r++)for(let t=0;t<e;t++){const e=Q[r];let i=0;4&t&&(i+=e),2&t&&(i+=e>>1),1&t&&(i+=e>>2),i+=e>>3,tt[n++]=8&t?-i:i}}return tt}();let p=0;for(;p<l;){r=t.readInt16(),s=t.readUint8(),t.position++,s>88&&(s=88),n[p++]=r/32768;const e=Math.min(u,l-p),d=p;for(;p-d<e;)a=t.readUint8(),i=15&a,o=c[16*s+i],s+=Z[i],s>88?s=88:s<0&&(s=0),r+=o,r>32767?r=32767:r<-32768&&(r=-32768),n[p++]=r/32768,i=a>>4&15,o=c[16*s+i],s+=Z[i],s>88?s=88:s<0&&(s=0),r+=o,r>32767?r=32767:r<-32768&&(r=-32768),n[p++]=r/32768}}}function nt(t){const e=new DataView(t).getUint16(20,!0);return function(t){const e=new DataView(t);return 1380533830===e.getUint32(0)&&1463899717===e.getUint32(8)}(t)&&17===e}var rt=__webpack_require__(558),it=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};class ot extends V{load(t,e,n,r,i,o){return it(this,void 0,void 0,(function*(){const i=e+"."+n,o=t.file(i);if(!o)throw new Error(`${i} does not exist`);let s=yield o.uint8array();if(nt(s.buffer)){r(`Decompressing ADPCM sound "${i}"`);const t=yield rt.c(yield new et(r).decode(s.buffer));s=new Uint8Array(t)}return this.data=L.JQ(s),this.dataFormat=n,this}))}}const st={"forward:":"motion_movesteps","turnRight:":"motion_turnright","turnLeft:":"motion_turnleft","heading:":"motion_pointindirection","pointTowards:":"motion_pointtowards","gotoX:y:":"motion_gotoxy","gotoSpriteOrMouse:":"motion_goto","glideSecs:toX:y:elapsed:from:":"motion_glidesecstoxy","changeXposBy:":"motion_changexby","xpos:":"motion_setx","changeYposBy:":"motion_changeyby","ypos:":"motion_sety",bounceOffEdge:"motion_ifonedgebounce",setRotationStyle:"motion_setrotationstyle",xpos:"motion_xposition",ypos:"motion_yposition",heading:"motion_direction",scrollRight:"motion_scroll_right",scrollUp:"motion_scroll_up",scrollAlign:"motion_align_scene",xScroll:"motion_xscroll",yScroll:"motion_yscroll","say:duration:elapsed:from:":"looks_sayforsecs","say:":"looks_say","think:duration:elapsed:from:":"looks_thinkforsecs","think:":"looks_think",show:"looks_show",hide:"looks_hide",hideAll:"looks_hideallsprites","lookLike:":"looks_switchcostumeto",nextCostume:"looks_nextcostume",startScene:"looks_switchbackdropto","changeGraphicEffect:by:":"looks_changeeffectby","setGraphicEffect:to:":"looks_seteffectto",filterReset:"looks_cleargraphiceffects","changeSizeBy:":"looks_changesizeby","setSizeTo:":"looks_setsizeto","changeStretchBy:":"looks_changestretchby","setStretchTo:":"looks_setstretchto",scale:"looks_size",startSceneAndWait:"looks_switchbackdroptoandwait",nextScene:"looks_nextbackdrop","playSound:":"sound_play",doPlaySoundAndWait:"sound_playuntildone",stopAllSounds:"sound_stopallsounds",playDrum:"music_playDrumForBeats","noteOn:duration:elapsed:from:":"music_playNoteForBeats","rest:elapsed:from:":"music_restForBeats","instrument:":"music_setInstrument","drum:duration:elapsed:from:":"music_midiPlayDrumForBeats","midiInstrument:":"music_midiSetInstrument","changeVolumeBy:":"sound_changevolumeby","setVolumeTo:":"sound_setvolumeto",volume:"sound_volume","changeTempoBy:":"music_changeTempo","setTempoTo:":"music_setTempo",tempo:"music_getTempo",clearPenTrails:"pen_clear",stampCostume:"pen_stamp",putPenDown:"pen_penDown",putPenUp:"pen_penUp","penColor:":"pen_setPenColorToColor","changePenHueBy:":"pen_changePenHueBy","setPenHueTo:":"pen_setPenHueToNumber","changePenShadeBy:":"pen_changePenShadeBy","setPenShadeTo:":"pen_setPenShadeToNumber","changePenSizeBy:":"pen_changePenSizeBy","penSize:":"pen_setPenSizeTo",whenGreenFlag:"event_whenflagclicked",whenKeyPressed:"event_whenkeypressed",whenClicked:"event_whenthisspriteclicked",whenSceneStarts:"event_whenbackdropswitchesto",whenIReceive:"event_whenbroadcastreceived","broadcast:":"event_broadcast",doBroadcastAndWait:"event_broadcastandwait","wait:elapsed:from:":"control_wait",doRepeat:"control_repeat",doForever:"control_forever",doIf:"control_if",doIfElse:"control_if_else",doWaitUntil:"control_wait_until",doUntil:"control_repeat_until",doWhile:"control_while",doForLoop:"control_for_each",stopScripts:"control_stop",whenCloned:"control_start_as_clone",createCloneOf:"control_create_clone_of",deleteClone:"control_delete_this_clone",COUNT:"control_get_counter",INCR_COUNT:"control_incr_counter",CLR_COUNT:"control_clear_counter",warpSpeed:"control_all_at_once","touching:":"sensing_touchingobject","touchingColor:":"sensing_touchingcolor","color:sees:":"sensing_coloristouchingcolor","distanceTo:":"sensing_distanceto",doAsk:"sensing_askandwait",answer:"sensing_answer","keyPressed:":"sensing_keypressed",mousePressed:"sensing_mousedown",mouseX:"sensing_mousex",mouseY:"sensing_mousey",soundLevel:"sensing_loudness",isLoud:"sensing_loud",senseVideoMotion:"videoSensing_videoOn",setVideoState:"videoSensing_videoToggle",setVideoTransparency:"videoSensing_setVideoTransparency",timer:"sensing_timer",timerReset:"sensing_resettimer","getAttribute:of:":"sensing_of",timeAndDate:"sensing_current",timestamp:"sensing_dayssince2000",getUserName:"sensing_username",getUserId:"sensing_userid","+":"operator_add","-":"operator_subtract","*":"operator_multiply","/":"operator_divide","randomFrom:to:":"operator_random","<":"operator_lt","=":"operator_equals",">":"operator_gt","&":"operator_and","|":"operator_or",not:"operator_not","concatenate:with:":"operator_join","letter:of:":"operator_letter_of","stringLength:":"operator_length","%":"operator_mod",rounded:"operator_round","computeFunction:of:":"operator_mathop",readVariable:"data_variable","getVar:":"data_variable","setVar:to:":"data_setvariableto","changeVar:by:":"data_changevariableby","showVariable:":"data_showvariable","hideVariable:":"data_hidevariable","contentsOfList:":"data_listcontents","append:toList:":"data_addtolist","deleteLine:ofList:":"data_deleteoflist","insert:at:ofList:":"data_insertatlist","setLine:ofList:to:":"data_replaceitemoflist","getLine:ofList:":"data_itemoflist","lineCountOfList:":"data_lengthoflist","list:contains:":"data_listcontainsitem","showList:":"data_showlist","hideList:":"data_hidelist",procDef:"procedures_definition",getParam:"argument_reporter_string_number",call:"procedures_call"},at={normal:1,leftRight:2,none:0},lt=1.5,ut="",ct="list",pt="broadcast_msg",dt="param",ht=1,ft=2,mt=3,_t=9,yt=11,gt=12,bt=13,wt={motion_movesteps:"forward",motion_turnright:"turn",motion_turnleft:"turnLeft",motion_pointindirection:"setHeading",motion_pointtowards:"doFaceTowards",motion_gotoxy:"gotoXY",motion_goto:"doGotoObject",motion_glidesecstoxy:"doGlide",motion_changexby:"changeXPosition",motion_setx:"setXPosition",motion_changeyby:"changeYPosition",motion_sety:"setYPosition",motion_ifonedgebounce:"bounceOffEdge",motion_xposition:"xPosition",motion_yposition:"yPosition",motion_direction:"direction",looks_sayforsecs:"doSayFor",looks_say:"bubble",looks_thinkforsecs:"doThinkFor",looks_think:"doThink",looks_show:"show",looks_hide:"hide",looks_switchcostumeto:"doSwitchToCostume",looks_nextcostume:"doWearNextCostume",looks_changeeffectby:"changeEffect",looks_seteffectto:"setEffect",looks_cleargraphiceffects:"clearEffects",looks_changesizeby:"changeScale",looks_setsizeto:"setScale",looks_gotofrontback:"goToLayer","goBackByLayers:":"goBack",costumeIndex:"getCostumeIdx",looks_size:"getScale",sound_play:"playSound",sound_playuntildone:"doPlaySoundUntilDone",sound_stopallsounds:"doStopAllSounds",music_playNoteForBeats:"doPlayNote",music_restForBeats:"doRest",sound_changevolumeby:"changeVolume",sound_setvolumeto:"setVolume",sound_volume:"getVolume",music_changeTempo:"doChangeTempo",music_setTempo:"doSetTempo",music_getTempo:"getTempo",pen_clear:"clear",pen_stamp:"doStamp",pen_penDown:"down",pen_penUp:"up",pen_setPenColorToColor:"setColor",pen_changePenColorParamBy:"changePenHSVA",pen_setPenColorParamTo:"setPenHSVA",pen_changePenSizeBy:"changeSize",pen_setPenSizeTo:"setSize",event_whenflagclicked:"receiveGo",event_whenkeypressed:"receiveKey",event_whenbroadcastreceived:"receiveMessage",event_broadcast:"doBroadcast",event_broadcastandwait:"doBroadcastAndWait",control_wait:"doWait",control_repeat:"doRepeat",control_forever:"doForever",control_if:"doIf",control_if_else:"doIfElse",control_wait_until:"doWaitUntil",control_repeat_until:"doUntil",control_stop:"doStopThis",control_start_as_clone:"receiveOnClone",control_create_clone_of:"createClone",control_delete_this_clone:"removeClone",control_all_at_once:"doWarp",sensing_touchingobject:"reportTouchingObject",sensing_touchingcolor:"reportTouchingColor",sensing_coloristouchingcolor:"reportColorIsTouchingColor",sensing_distanceto:"reportDistanceTo",sensing_askandwait:"doAsk",sensing_answer:"getLastAnswer",sensing_keypressed:"reportKeyPressed",sensing_mousedown:"reportMouseDown",sensing_mousex:"reportMouseX",sensing_mousey:"reportMouseY",videoSensing_videoOn:"reportVideo",videoSensing_setVideoTransparency:"doSetVideoTransparency",sensing_timer:"getTimer",sensing_resettimer:"doResetTimer",sensing_of:"reportAttributeOf",sensing_current:"reportDate",operator_add:"reportSum",operator_subtract:"reportDifference",operator_multiply:"reportProduct",operator_divide:"reportQuotient",operator_random:"reportRandom",operator_lt:"reportLessThan",operator_equals:"reportEquals",operator_gt:"reportGreaterThan",operator_and:"reportAnd",operator_or:"reportOr",operator_not:"reportNot",operator_join:"reportJoin",operator_letter_of:"reportLetter",operator_length:"reportStringSize",operator_mod:"reportModulus",operator_round:"reportRound",operator_mathop:"reportMonadic",data_setvariableto:"doSetVar",data_changevariableby:"doChangeVar",data_showvariable:"doShowVar",data_hidevariable:"doHideVar",data_addtolist:"doAddToList",data_deleteoflist:"doDeleteFromList",data_insertatlist:"doInsertInList",data_replaceitemoflist:"doReplaceInList",data_itemoflist:"reportListItem",data_itemnumoflist:"reportListIndex",data_lengthoflist:"reportListLength",data_listcontainsitem:"reportListContainsItem",data_showlist:"doShowVar",data_hidelist:"doHideVar"},vt={motion_movesteps:[{type:"input",inputOp:"math_number",inputName:"STEPS"}],motion_turnright:[{type:"input",inputOp:"math_number",inputName:"DEGREES"}],motion_turnleft:[{type:"input",inputOp:"math_number",inputName:"DEGREES"}],motion_pointindirection:[{type:"input",inputOp:"math_angle",inputName:"DIRECTION"}],motion_pointtowards:[{type:"input",inputOp:"motion_pointtowards_menu",inputName:"TOWARDS"}],motion_gotoxy:[{type:"input",inputOp:"math_number",inputName:"X"},{type:"input",inputOp:"math_number",inputName:"Y"}],motion_goto:[{type:"input",inputOp:"motion_goto_menu",inputName:"TO"}],motion_glideto:[{type:"input",inputOp:"math_number",inputName:"SECS"},{type:"input",inputOp:"motion_goto_menu",inputName:"TO"}],motion_glidesecstoxy:[{type:"input",inputOp:"math_number",inputName:"SECS"},{type:"input",inputOp:"math_number",inputName:"X"},{type:"input",inputOp:"math_number",inputName:"Y"}],motion_changexby:[{type:"input",inputOp:"math_number",inputName:"DX"}],motion_setx:[{type:"input",inputOp:"math_number",inputName:"X"}],motion_changeyby:[{type:"input",inputOp:"math_number",inputName:"DY"}],motion_sety:[{type:"input",inputOp:"math_number",inputName:"Y"}],motion_ifonedgebounce:[],motion_setrotationstyle:[{type:"field",fieldName:"STYLE"}],motion_xposition:[],motion_yposition:[],motion_direction:[],motion_scroll_right:[{type:"input",inputOp:"math_number",inputName:"DISTANCE"}],motion_scroll_up:[{type:"input",inputOp:"math_number",inputName:"DISTANCE"}],motion_align_scene:[{type:"field",fieldName:"ALIGNMENT"}],motion_xscroll:[],motion_yscroll:[],looks_sayforsecs:[{type:"input",inputOp:"text",inputName:"MESSAGE"},{type:"input",inputOp:"math_number",inputName:"SECS"}],looks_say:[{type:"input",inputOp:"text",inputName:"MESSAGE"}],looks_thinkforsecs:[{type:"input",inputOp:"text",inputName:"MESSAGE"},{type:"input",inputOp:"math_number",inputName:"SECS"}],looks_think:[{type:"input",inputOp:"text",inputName:"MESSAGE"}],looks_show:[],looks_hide:[],looks_hideallsprites:[],looks_switchcostumeto:[{type:"input",inputOp:"looks_costume",inputName:"COSTUME"}],looks_nextcostume:[],looks_switchbackdropto:[{type:"input",inputOp:"looks_backdrops",inputName:"BACKDROP"}],looks_changeeffectby:[{type:"field",fieldName:"EFFECT",snapOptionInput:!0},{type:"input",inputOp:"math_number",inputName:"CHANGE"}],looks_seteffectto:[{type:"field",fieldName:"EFFECT",snapOptionInput:!0},{type:"input",inputOp:"math_number",inputName:"VALUE"}],looks_cleargraphiceffects:[],looks_changesizeby:[{type:"input",inputOp:"math_number",inputName:"CHANGE"}],looks_setsizeto:[{type:"input",inputOp:"math_number",inputName:"SIZE"}],looks_changestretchby:[{type:"input",inputOp:"math_number",inputName:"CHANGE"}],looks_setstretchto:[{type:"input",inputOp:"math_number",inputName:"STRETCH"}],looks_gotofrontback:[{type:"field",fieldName:"FRONT_BACK",snapOptionInput:!0}],looks_goforwardbackwardlayers:[{type:"field",fieldName:"FORWARD_BACKWARD"},{type:"input",inputOp:"math_integer",inputName:"NUM"}],looks_costumenumbername:[{type:"field",fieldName:"NUMBER_NAME"}],looks_backdropnumbername:[{type:"field",fieldName:"NUMBER_NAME"}],looks_size:[],looks_switchbackdroptoandwait:[{type:"input",inputOp:"looks_backdrops",inputName:"BACKDROP"}],looks_nextbackdrop:[],sound_play:[{type:"input",inputOp:"sound_sounds_menu",inputName:"SOUND_MENU"}],sound_playuntildone:[{type:"input",inputOp:"sound_sounds_menu",inputName:"SOUND_MENU"}],sound_stopallsounds:[],sound_changeeffectby:[{type:"field",fieldName:"EFFECT"},{type:"input",inputOp:"math_number",inputName:"VALUE"}],sound_seteffectto:[{type:"field",fieldName:"EFFECT"},{type:"input",inputOp:"math_number",inputName:"VALUE"}],sound_cleareffects:[],music_playDrumForBeats:[{type:"input",inputOp:"music_menu_DRUM",inputName:"DRUM"},{type:"input",inputOp:"math_number",inputName:"BEATS"}],music_midiPlayDrumForBeats:[{type:"input",inputOp:"math_number",inputName:"DRUM"},{type:"input",inputOp:"math_number",inputName:"BEATS"}],music_restForBeats:[{type:"input",inputOp:"math_number",inputName:"BEATS"}],music_playNoteForBeats:[{type:"input",inputOp:"note",inputName:"NOTE"},{type:"input",inputOp:"math_number",inputName:"BEATS"}],music_setInstrument:[{type:"input",inputOp:"music_menu_INSTRUMENT",inputName:"INSTRUMENT"}],music_midiSetInstrument:[{type:"input",inputOp:"math_number",inputName:"INSTRUMENT"}],sound_changevolumeby:[{type:"input",inputOp:"math_number",inputName:"VOLUME"}],sound_setvolumeto:[{type:"input",inputOp:"math_number",inputName:"VOLUME"}],sound_volume:[],music_changeTempo:[{type:"input",inputOp:"math_number",inputName:"TEMPO"}],music_setTempo:[{type:"input",inputOp:"math_number",inputName:"TEMPO"}],music_getTempo:[],pen_clear:[],pen_stamp:[],pen_penDown:[],pen_penUp:[],pen_setPenColorToColor:[{type:"input",inputOp:"colour_picker",inputName:"COLOR"}],pen_changePenColorParamBy:[{type:"input",inputOp:"text",inputName:"COLOR_PARAM",snapOptionInput:!0},{type:"input",inputOp:"math_number",inputName:"VALUE"}],pen_setPenColorParamTo:[{type:"input",inputOp:"text",inputName:"COLOR_PARAM",snapOptionInput:!0},{type:"input",inputOp:"math_number",inputName:"VALUE"}],pen_changePenHueBy:[{type:"input",inputOp:"math_number",inputName:"HUE"}],pen_setPenHueToNumber:[{type:"input",inputOp:"math_number",inputName:"HUE"}],pen_changePenShadeBy:[{type:"input",inputOp:"math_number",inputName:"SHADE"}],pen_setPenShadeToNumber:[{type:"input",inputOp:"math_number",inputName:"SHADE"}],pen_changePenSizeBy:[{type:"input",inputOp:"math_number",inputName:"SIZE"}],pen_setPenSizeTo:[{type:"input",inputOp:"math_number",inputName:"SIZE"}],event_whenflagclicked:[],event_whenkeypressed:[{type:"field",fieldName:"KEY_OPTION",snapOptionInput:!0}],event_whenthisspriteclicked:[],event_whenbackdropswitchesto:[{type:"field",fieldName:"BACKDROP"}],event_whenbroadcastreceived:[{type:"field",fieldName:"BROADCAST_OPTION",variableType:pt}],event_broadcast:[{type:"input",inputOp:"event_broadcast_menu",inputName:"BROADCAST_INPUT",variableType:pt}],event_broadcastandwait:[{type:"input",inputOp:"event_broadcast_menu",inputName:"BROADCAST_INPUT",variableType:pt}],control_wait:[{type:"input",inputOp:"math_positive_number",inputName:"DURATION"}],control_repeat:[{type:"input",inputOp:"math_whole_number",inputName:"TIMES"},{type:"input",inputOp:"substack",inputName:"SUBSTACK"}],control_forever:[{type:"input",inputOp:"substack",inputName:"SUBSTACK"}],control_if:[{type:"input",inputOp:"boolean",inputName:"CONDITION"},{type:"input",inputOp:"substack",inputName:"SUBSTACK"}],control_if_else:[{type:"input",inputOp:"boolean",inputName:"CONDITION"},{type:"input",inputOp:"substack",inputName:"SUBSTACK"},{type:"input",inputOp:"substack",inputName:"SUBSTACK2"}],control_wait_until:[{type:"input",inputOp:"boolean",inputName:"CONDITION"}],control_repeat_until:[{type:"input",inputOp:"boolean",inputName:"CONDITION"},{type:"input",inputOp:"substack",inputName:"SUBSTACK"}],control_while:[{type:"input",inputOp:"boolean",inputName:"CONDITION"},{type:"input",inputOp:"substack",inputName:"SUBSTACK"}],control_for_each:[{type:"field",fieldName:"VARIABLE"},{type:"input",inputOp:"text",inputName:"VALUE"},{type:"input",inputOp:"substack",inputName:"SUBSTACK"}],control_stop:[{type:"field",fieldName:"STOP_OPTION",snapOptionInput:!0}],control_start_as_clone:[],control_create_clone_of:[{type:"input",inputOp:"control_create_clone_of_menu",inputName:"CLONE_OPTION"}],control_delete_this_clone:[],control_get_counter:[],control_incr_counter:[],control_clear_counter:[],control_all_at_once:[{type:"input",inputOp:"substack",inputName:"SUBSTACK"}],sensing_touchingobject:[{type:"input",inputOp:"sensing_touchingobjectmenu",inputName:"TOUCHINGOBJECTMENU"}],sensing_touchingcolor:[{type:"input",inputOp:"colour_picker",inputName:"COLOR"}],sensing_coloristouchingcolor:[{type:"input",inputOp:"colour_picker",inputName:"COLOR"},{type:"input",inputOp:"colour_picker",inputName:"COLOR2"}],sensing_distanceto:[{type:"input",inputOp:"sensing_distancetomenu",inputName:"DISTANCETOMENU"}],sensing_askandwait:[{type:"input",inputOp:"text",inputName:"QUESTION"}],sensing_answer:[],sensing_keypressed:[{type:"input",inputOp:"sensing_keyoptions",inputName:"KEY_OPTION",snapOptionInput:!0}],sensing_mousedown:[],sensing_mousex:[],sensing_mousey:[],sensing_setdragmode:[{type:"field",fieldName:"DRAG_MODE"}],sensing_loudness:[],sensing_loud:[],videoSensing_videoOn:[{type:"input",inputOp:"videoSensing_menu_ATTRIBUTE",inputName:"ATTRIBUTE",snapOptionInput:!0},{type:"input",inputOp:"videoSensing_menu_SUBJECT",inputName:"SUBJECT"}],videoSensing_videoToggle:[{type:"input",inputOp:"videoSensing_menu_VIDEO_STATE",inputName:"VIDEO_STATE"}],videoSensing_setVideoTransparency:[{type:"input",inputOp:"math_number",inputName:"TRANSPARENCY"}],sensing_timer:[],sensing_resettimer:[],sensing_of:[{type:"field",fieldName:"PROPERTY"},{type:"input",inputOp:"sensing_of_object_menu",inputName:"OBJECT"}],sensing_current:[{type:"field",fieldName:"CURRENTMENU",snapOptionInput:!0}],sensing_dayssince2000:[],sensing_username:[],sensing_userid:[],operator_add:[{type:"input",inputOp:"math_number",inputName:"NUM1"},{type:"input",inputOp:"math_number",inputName:"NUM2"}],operator_subtract:[{type:"input",inputOp:"math_number",inputName:"NUM1"},{type:"input",inputOp:"math_number",inputName:"NUM2"}],operator_multiply:[{type:"input",inputOp:"math_number",inputName:"NUM1"},{type:"input",inputOp:"math_number",inputName:"NUM2"}],operator_divide:[{type:"input",inputOp:"math_number",inputName:"NUM1"},{type:"input",inputOp:"math_number",inputName:"NUM2"}],operator_random:[{type:"input",inputOp:"math_number",inputName:"FROM"},{type:"input",inputOp:"math_number",inputName:"TO"}],operator_lt:[{type:"input",inputOp:"text",inputName:"OPERAND1"},{type:"input",inputOp:"text",inputName:"OPERAND2"}],operator_equals:[{type:"input",inputOp:"text",inputName:"OPERAND1"},{type:"input",inputOp:"text",inputName:"OPERAND2"}],operator_gt:[{type:"input",inputOp:"text",inputName:"OPERAND1"},{type:"input",inputOp:"text",inputName:"OPERAND2"}],operator_and:[{type:"input",inputOp:"boolean",inputName:"OPERAND1"},{type:"input",inputOp:"boolean",inputName:"OPERAND2"}],operator_or:[{type:"input",inputOp:"boolean",inputName:"OPERAND1"},{type:"input",inputOp:"boolean",inputName:"OPERAND2"}],operator_not:[{type:"input",inputOp:"boolean",inputName:"OPERAND"}],operator_join:[{type:"input",inputOp:"text",inputName:"STRING1"},{type:"input",inputOp:"text",inputName:"STRING2"}],operator_letter_of:[{type:"input",inputOp:"math_whole_number",inputName:"LETTER"},{type:"input",inputOp:"text",inputName:"STRING"}],operator_length:[{type:"input",inputOp:"text",inputName:"STRING"}],operator_mod:[{type:"input",inputOp:"math_number",inputName:"NUM1"},{type:"input",inputOp:"math_number",inputName:"NUM2"}],operator_round:[{type:"input",inputOp:"math_number",inputName:"NUM"}],operator_mathop:[{type:"field",fieldName:"OPERATOR",snapOptionInput:!0},{type:"input",inputOp:"math_number",inputName:"NUM"}],data_variable:[{type:"field",fieldName:"VARIABLE",variableType:ut}],data_setvariableto:[{type:"field",fieldName:"VARIABLE",variableType:ut},{type:"input",inputOp:"text",inputName:"VALUE"}],data_changevariableby:[{type:"field",fieldName:"VARIABLE",variableType:ut},{type:"input",inputOp:"math_number",inputName:"VALUE"}],data_showvariable:[{type:"field",fieldName:"VARIABLE",variableType:ut}],data_hidevariable:[{type:"field",fieldName:"VARIABLE",variableType:ut}],data_listcontents:[{type:"field",fieldName:"LIST",variableType:ct}],data_addtolist:[{type:"input",inputOp:"text",inputName:"ITEM"},{type:"field",fieldName:"LIST",variableType:ct}],data_deleteoflist:[{type:"input",inputOp:"math_integer",inputName:"INDEX",snapOptionInput:!0},{type:"field",fieldName:"LIST",variableType:ct}],data_deletealloflist:[{type:"field",fieldName:"LIST",variableType:ct}],data_insertatlist:[{type:"input",inputOp:"text",inputName:"ITEM"},{type:"input",inputOp:"math_integer",inputName:"INDEX",snapOptionInput:!0},{type:"field",fieldName:"LIST",variableType:ct}],data_replaceitemoflist:[{type:"input",inputOp:"math_integer",inputName:"INDEX",snapOptionInput:!0},{type:"field",fieldName:"LIST",variableType:ct},{type:"input",inputOp:"text",inputName:"ITEM"}],data_itemoflist:[{type:"input",inputOp:"math_integer",inputName:"INDEX",snapOptionInput:!0},{type:"field",fieldName:"LIST",variableType:ct}],data_itemnumoflist:[{type:"input",inputOp:"text",inputName:"ITEM"},{type:"field",fieldName:"LIST",variableType:ct}],data_lengthoflist:[{type:"field",fieldName:"LIST",variableType:ct}],data_listcontainsitem:[{type:"field",fieldName:"LIST",variableType:ct},{type:"input",inputOp:"text",inputName:"ITEM"}],data_showlist:[{type:"field",fieldName:"LIST",variableType:ct}],data_hidelist:[{type:"field",fieldName:"LIST",variableType:ct}],argument_reporter_string_number:[{type:"field",fieldName:"VALUE",variableType:dt}],argument_reporter_boolean:[{type:"field",fieldName:"VALUE",variableType:dt}]},St={_edge_:"edge",_mouse_:"mouse-pointer",_myself_:"myself",_random_:"random position","this sprite":"myself"},At={"all around":1,"left-right":2,"don't rotate":0};function Ot(t,e,...n){const r=document.createElementNS(null,t),i=t=>{if(null!=t)if(Array.isArray(t))for(const e of t)i(e);else r.appendChild(t instanceof Node?t:new Text(t))};if(e)for(const t in e)e.hasOwnProperty(t)&&r.setAttribute(t,e[t]);return i(n),r}class xt{constructor(t=0,e=0,n=0,r=1){this.r=t,this.g=e,this.b=n,this.a=r}static fromARGB(t){return new xt(t>>16&255,t>>8&255,255&t,(t>>24&255)/255||1)}static fromHex(t){const e=parseInt(t.substr(1,2),16),n=parseInt(t.substr(3,2),16),r=parseInt(t.substr(5,2),16);return new xt(e,n,r,1)}toString(){return Math.round(this.r)+","+Math.round(this.g)+","+Math.round(this.b)+","+this.a}toXML(){return Ot("color",null,this.toString())}}class Nt{constructor(t,e=!1){this.value=t,this.isOption=e}toString(){return this.value.toString()}toXML(){return this.isOption?Ot("l",null,Ot("option",null,this.value)):"boolean"==typeof this.value?this.value?Ot("l",null,Ot("bool",null,"true")):Ot("l",null):null==this.value?Ot("l",null):Ot("l",null,this.value)}}const Et={motion_pointtowards:{},motion_goto:{},motion_glideto:{},looks_changeeffectby:{},looks_seteffectto:{},pen_changePenColorParamBy:{},pen_setPenColorParamTo:{},event_whenkeypressed:{},control_stop:{},control_create_clone_of:{},sensing_touchingobject:{},sensing_distanceto:{},sensing_keypressed:{},videoSensing_videoOn:{},sensing_of:{},sensing_current:{},operator_mathop:{},data_insertatlist:{},data_replaceitemoflist:{},data_itemoflist:{}};function kt(t,e){return e.includes(t.value)?new Nt(St[t.value],!0):t}Et.motion_pointtowards[0]=Et.sensing_distanceto[0]=t=>kt(t,["_mouse_"]),Et.motion_goto[0]=Et.motion_glideto[0]=t=>kt(t,["_mouse_","_random_"]),Et.control_create_clone_of[0]=t=>kt(t,["_myself_"]),Et.sensing_touchingobject[0]=t=>kt(t,["_mouse_","_edge_"]),Et.videoSensing_videoOn[0]=t=>kt(t,["this sprite"]),Et.looks_changeeffectby[0]=Et.looks_seteffectto[0]=t=>new Nt(t.value.toLowerCase(),!0),Et.pen_changePenColorParamBy[0]=Et.pen_setPenColorParamTo[0]=t=>"color"===t.value?new Nt("hue",!0):t,Et.event_whenkeypressed[0]=Et.sensing_keypressed[0]=t=>"any"===t.value?new Nt("any key",!0):t,Et.control_stop[0]=t=>"other scripts in stage"===t.value?new Nt("other scripts in sprite",!0):"this script"===t.value?new Nt("this block",!0):t,Et.sensing_of[0]=t=>"backdrop #"===t.value||"background #"===t.value?new Nt("costume #",!0):"backdrop name"===t.value?new Nt("costume name",!0):["costume #","costume name","volume","x position","y position","direction","size"].includes(t.value)?new Nt(t.value,!0):t,Et.sensing_of[1]=t=>"_stage_"===t.value?new Nt("Stage"):t,Et.sensing_current[0]=t=>"DAYOFWEEK"===t.value?new Nt("day of week",!0):new Nt(t.value.toLowerCase(),!0),Et.operator_mathop[0]=t=>"e ^"===t.value?new Nt("e^",!0):"10 ^"===t.value?new Nt("10^",!0):t,Et.data_insertatlist[1]=Et.data_replaceitemoflist[0]=Et.data_itemoflist[0]=t=>"random"===t.value||"any"===t.value?new Nt("any",!0):t;class Tt{static forVar(t){return(new Tt).initForVar(t)}static forList(t){return(new Tt).initForList(t)}initForVar(t){return this.op="data_variable",this.args=[new Nt(t)],this}initForList(t){return this.op="data_listcontents",this.args=[Tt.forVar(t)],this}readSB2(t,e,n,r){const i=e,o=t[0];this.op=st[o]||o,e+=1;let s=t.slice(1);return"procedures_call"===this.op&&(this.spec=Bt.convertSemanticSpec(s[0]),s=s.slice(1)),this.args=s.map(((t,i)=>{let o;return[o,e]=this.readArgSB2(t,i,e,n,r),o})),n[i]&&(this.comment=n[i]),[this,e]}readArgSB2(t,e,n,r,i){let o,s;if(vt[this.op]&&vt[this.op][e]&&(o=vt[this.op][e]),o&&"input"===o.type&&"substack"===o.inputOp)return(new Mt).readSB2(t,n,r,i,!0);if(Array.isArray(t))return(new Tt).readSB2(t,n,r,i);if(o&&"input"===o.type&&"colour_picker"===o.inputOp)return[xt.fromARGB(t),n];if(o&&"field"===o.type){if(o.variableType===ct)return[Tt.forVar(i.getListName(t)),n];o.variableType===dt&&(t=i.getParamName(t))}return s="string"==typeof t&&o&&o.snapOptionInput?new Nt(t,!0):new Nt(t),Et[this.op]&&Et[this.op][e]&&(s=Et[this.op][e](s)),[s,n]}readSB3(t,e,n,r){const i=e[t];if(Array.isArray(i))return this.readPrimitiveSB3(i,r);if(this.op=i.opcode,"procedures_call"===this.op){this.spec=Bt.convertSemanticSpec(i.mutation.proccode);const t=JSON.parse(i.mutation.argumentids);this.args=t.map(((t,o)=>{const s={type:"input",inputName:t};return this.readArgSB3(i,o,s,e,n,r)}))}else{const t=vt[this.op];this.args=t?t.map(((t,o)=>this.readArgSB3(i,o,t,e,n,r))):[]}return n[t]&&(this.comment=n[t]),this}readPrimitiveSB3(t,e){const n=t[0],r=t[2];return n===gt?this.initForVar(e.getVarName(r)):n===bt?this.initForList(e.getListName(r)):this}readArgSB3(t,e,n,r,i,o){let s,a;if("input"===n.type){const e=t.inputs[n.inputName];if(e){const t=e[0],a=e[1];if(t===ht){if("string"==typeof a){const t=r[a],e=Object.keys(t.fields)[0];s=t.fields[e][0]}else if(Array.isArray(a)){if(a[0]===_t)return xt.fromHex(a[1]);s=a[0]===yt?o.getMessageName(a[2]):a[1]}}else if(t===ft||t===mt)return"substack"===n.inputOp?(new Mt).readSB3(a,r,i,o,!0):Array.isArray(a)?(new Tt).readPrimitiveSB3(a,o):(new Tt).readSB3(a,r,i,o)}else if("substack"===n.inputOp)return new Mt}else{const e=t.fields[n.fieldName];if(n.variableType===ct)return Tt.forVar(o.getListName(e[1]));s=n.variableType===ut?o.getVarName(e[1]):n.variableType===dt?o.getParamName(e[0]):n.variableType===pt?o.getMessageName(e[1]):e[0]}return a="string"==typeof s&&n.snapOptionInput?new Nt(s,!0):new Nt(s),Et[this.op]&&Et[this.op][e]&&(a=Et[this.op][e](a)),a}toXML(t,e=!1){const n=e=>{if(e instanceof Mt){return e.toXML(t)}if(e instanceof Tt){return e.toXML(t,!0)}return e.toXML()},r=t=>Ot("block",{s:"doTellTo"},Ot("l",null,"Stage"),Ot("block",{s:"reifyScript"},Ot("script",null,t),Ot("list",null)),Ot("list",null)),i={};i.data_variable=i.argument_reporter_string_number=i.argument_reporter_boolean=()=>Ot("block",{var:this.args[0].value}),i.data_listcontents=()=>Ot("block",{s:"reportJoinWords"},n(this.args[0])),i.procedures_call=()=>Ot("custom-block",{s:this.spec,scope:t.name},this.args.map(n)),i.motion_glideto=()=>{const t=(t,e)=>"_mouse_"===t.value?Ot("block",{s:e?"reportMouseX":"reportMouseY"}):"_random_"===t.value?Ot("block",{s:"reportRandom"},Ot("block",{s:"reportAttributeOf"},Ot("l",null,Ot("option",null,e?"left":"bottom")),Ot("l",null,"Stage")),Ot("block",{s:"reportAttributeOf"},Ot("l",null,Ot("option",null,e?"right":"top")),Ot("l",null,"Stage"))):Ot("block",{s:"reportAttributeOf"},Ot("l",null,Ot("option",null,e?"x position":"y position")),n(t));return Ot("block",{s:"doGlide"},[n(this.args[0]),t(this.args[1],!0),t(this.args[1],!1)])},i.motion_setrotationstyle=()=>Ot("block",{s:"doSetVar"},Ot("l",null,Ot("option",null,"rotation style")),Ot("l",null,{"don't rotate":0,"all around":1,"left-right":2}[this.args[0].value]||0)),i.comeToFront=()=>Ot("block",{s:"goToLayer"},Ot("l",null,Ot("option",null,"front"))),i.looks_goforwardbackwardlayers=()=>{if("forward"===this.args[0].value){if(this.args[1]instanceof Tt)return Ot("block",{s:"goBack"},Ot("block",{s:"reportDifference"},Ot("l",null,"0"),n(this.args[1])));this.args[1].value=-this.args[1].value}return Ot("block",{s:"goBack"},n(this.args[1]))},i.costumeName=()=>Ot("block",{s:"reportAttributeOf"},Ot("l",null,Ot("option",null,"costume name")),Ot("block",{s:"reportObject"},Ot("l",null,Ot("option",null,"myself")))),i.looks_costumenumbername=()=>"number"===this.args[0].value?Ot("block",{s:"getCostumeIdx"}):i.costumeName();const o=e=>{let i;if(e instanceof Nt){const t=e.value;"next backdrop"===t?i=Ot("block",{s:"doWearNextCostume"}):"previous backdrop"===t?i=Ot("block",{s:"doSwitchToCostume"},Ot("block",{s:"reportDifference"},Ot("l",null,"0"),Ot("l",null,"1"))):"random backdrop"===t&&(i=Ot("block",{s:"doSwitchToCostume"},Ot("block",{s:"reportListItem"},Ot("l",null,Ot("option",null,"any")),Ot("block",{s:"reportGet"},Ot("l",null,Ot("option",null,"costumes"))))))}return i||(i=Ot("block",{s:"doSwitchToCostume"},n(e))),t.isStage||(i=r(i)),i};let s;if(i.looks_switchbackdropto=()=>{let e=o(this.args[0]);return t.project.hasBackdropEvents&&(e=[e,Ot("block",{s:"doBroadcast"},Ot("block",{s:"reportJoinWords"},Ot("list",null,Ot("l",null,"backdrop switched to "),Ot("block",{s:"reportAttributeOf"},Ot("l",null,Ot("option",null,"costume name")),Ot("l",null,"Stage")))))]),e},i.looks_switchbackdroptoandwait=()=>[o(this.args[0]),Ot("block",{s:"doBroadcastAndWait"},Ot("block",{s:"reportJoinWords"},Ot("list",null,Ot("l",null,"backdrop switched to "),Ot("block",{s:"reportAttributeOf"},Ot("l",null,Ot("option",null,"costume name")),Ot("l",null,"Stage")))))],i.event_whenbackdropswitchesto=()=>Ot("block",{s:"receiveMessage"},Ot("l",null,"backdrop switched to "+this.args[0].value)),i.looks_nextbackdrop=()=>{let e=Ot("block",{s:"doWearNextCostume"});return t.isStage||(e=r(e)),e},i.backgroundIndex=()=>t.isStage?Ot("block",{s:"getCostumeIdx"}):Ot("block",{s:"reportAttributeOf"},Ot("l",null,Ot("option",null,"costume #")),Ot("l",null,"Stage")),i.sceneName=()=>Ot("block",{s:"reportAttributeOf"},Ot("l",null,Ot("option",null,"costume name")),Ot("l",null,"Stage")),i.looks_backdropnumbername=()=>{const e=this.args[0].value;if("number"===e&&t.isStage)return Ot("block",{s:"getCostumeIdx"});return Ot("block",{s:"reportAttributeOf"},Ot("l",null,Ot("option",null,"number"===e?"costume #":"costume name")),Ot("l",null,"Stage"))},i.event_whenthisspriteclicked=()=>Ot("block",{s:"receiveInteraction"},Ot("l",null,Ot("option",null,"pressed"))),i.sensing_touchingobject=()=>{const t=this.args[0];return t instanceof Nt&&!t.isOption||t instanceof Tt?Ot("block",{s:"reportAnd"},Ot("block",{s:"reportShown"}),Ot("block",{s:"reportTouchingObject"},n(t))):Ot("block",{s:"reportTouchingObject"},n(t))},i.videoSensing_videoToggle=()=>{const t=this.args[0].value;if("off"===t)return Ot("block",{s:"doSetGlobalFlag"},Ot("l",null,Ot("option",null,"video capture")),Ot("l",null,Ot("bool",null,"false")));const e="on"===t;return[Ot("block",{s:"doSetGlobalFlag"},Ot("l",null,Ot("option",null,"video capture")),Ot("l",null,Ot("bool",null,"true"))),Ot("block",{s:"doSetGlobalFlag"},Ot("l",null,Ot("option",null,"mirror video")),Ot("l",null,Ot("bool",null,e)))]},i.operator_join=()=>Ot("block",{s:"reportJoinWords"},Ot("list",null,n(this.args[0]),n(this.args[1]))),i.pen_changePenHueBy=()=>Ot("block",{s:"changePenHSVA"},Ot("l",null,Ot("option",null,"hue")),n(this.args[0])),i.pen_setPenHueToNumber=()=>Ot("block",{s:"setPenHSVA"},Ot("l",null,Ot("option",null,"hue")),n(this.args[0])),i.pen_changePenShadeBy=()=>Ot("block",{s:"changePenHSVA"},Ot("l",null,Ot("option",null,"brightness")),n(this.args[0])),i.pen_setPenShadeToNumber=()=>Ot("block",{s:"setPenHSVA"},Ot("l",null,Ot("option",null,"brightness")),n(this.args[0])),i.data_deletealloflist=()=>Ot("block",{s:"doDeleteFromList"},Ot("l",null,Ot("option",null,"all")),n(this.args[0])),i.hasOwnProperty(this.op))s=i[this.op]();else{const r=wt[this.op];s=r?Ot("block",{s:r},this.args.map(n)):t.project.unsupportedBlock(this.op,e)}return this.comment&&s.appendChild(this.comment.toXML()),s}hasBlock(t){if(t===this.op)return!0;for(const e of this.args)if((e instanceof Tt||e instanceof Mt)&&e.hasBlock(t))return!0;return!1}}class Mt{constructor(){this.stack=[]}readSB2(t,e,n,r,i=!1){let o;if(i?o=t:(this.x=t[0],this.y=t[1],o=t[2]),t)for(const t of o){let i;[i,e]=(new Tt).readSB2(t,e,n,r),this.stack.push(i)}return[this,e]}readSB3(t,e,n,r,i=!1){let o=e[t];for(i||(Array.isArray(o)?(this.x=o[3]/lt,this.y=o[4]/2.2):(this.x=o.x/lt,this.y=o.y/2.2));t;)this.stack.push((new Tt).readSB3(t,e,n,r)),!Array.isArray(o)&&o.next?(t=o.next,o=e[o.next]):(t=null,o=null);return this}toXML(t){const e=this.stack.map((e=>e.toXML(t)));return null!=this.x&&null!=this.y?Ot("script",{x:this.x,y:this.y},e):Ot("script",null,e)}hasBlock(t){for(const e of this.stack)if(e.hasBlock(t))return!0;return!1}}class Lt{constructor(t){this.contents=t}toXML(){return Ot("list",{struct:"atomic"},this.contents.map(this.encodeCell).join(","))}encodeCell(t){const e=t.toString();let n;return-1===e.indexOf('"')&&-1===e.indexOf("\n")&&-1===e.indexOf(",")?e:(n=['"'],e.split("").forEach((t=>{n.push(t),'"'===t&&n.push(t)})),n.push('"'),n.join(""))}}class Rt{constructor(t,e){this.name=t,null!=e&&(this.value=e)}toXML(){return Ot("variable",{name:this.name},this.value.toXML())}}class It{constructor(t){this.parent=t,this.vars=[],this.varNameMap={},this.listNameMap={},this.paramNameMap={},this.messageNameMap={}}isNameUsed(t){for(const e of this.vars)if(e.name===t)return!0;return!!this.parent&&this.parent.isNameUsed(t)}getUnusedName(t){if(!this.isNameUsed(t))return t;const e=t.search(/\d+$/);let n,r;for(e>-1?(n=t.substring(0,e-1),r=+t.substring(e)):(n=t,r=1);this.isNameUsed(t);)r+=1,t=n+r;return t}getVarName(t){return this.varNameMap[t]?this.varNameMap[t]:this.parent?this.parent.getVarName(t):null}getListName(t){return this.listNameMap[t]?this.listNameMap[t]:this.parent?this.parent.getListName(t):null}getParamName(t){return this.paramNameMap[t]?this.paramNameMap[t]:this.parent?this.parent.getParamName(t):null}getMessageName(t){return this.messageNameMap[t]?this.messageNameMap[t]:this.parent?this.parent.getMessageName(t):null}readScriptableSB2(t){const e=t.variables,n=t.lists;if(null!=e)for(const t of e)this.vars.push(new Rt(t.name,new Nt(t.value)));if(null!=n)for(const t of n){const e=t.listName,n=this.getUnusedName(e);this.vars.push(new Rt(n,new Lt(t.contents))),this.listNameMap[e]=n}return this}readScriptableSB3(t){const e=t.variables,n=t.lists,r=t.broadcasts||{};for(const t in e)if(e.hasOwnProperty(t)){const n=e[t],r=n[0];this.vars.push(new Rt(r,new Nt(n[1]))),this.varNameMap[t]=r}for(const t in n)if(n.hasOwnProperty(t)){const e=n[t],r=e[0],i=this.getUnusedName(r);this.vars.push(new Rt(i,new Lt(e[1]))),this.listNameMap[t]=i}for(const t in r)r.hasOwnProperty(t)&&(this.messageNameMap[t]=r[t]);return this}readBlockParams(t){for(const e of t){const t=this.getUnusedName(e.replace(/'/g,""));this.vars.push(new Rt(t)),this.paramNameMap[e]=t}return this}toXML(){return Ot("variables",null,this.vars.map((t=>t.toXML())))}}class Bt{static convertSemanticSpec(t){const e=["b","n","s"];return t.split(" ").map((t=>{if("%"===t.charAt(0)){if(e.includes(t.slice(1)))return t;throw new Error("Invalid custom block argument type: "+t)}return"%"===(t=t.replace(/\\(.)/g,"$1").replace(/'/g,"")).charAt(0)&&t.length>1?"\\"+t:t})).join(" ")}setSpec(t){let e=-1;this.inputTypes=[];this.spec=t.split(" ").map((t=>"%"===t.charAt(0)?(e+=1,this.inputTypes.push(t),"%'"+this.variables.vars[e].name+"'"):t)).join(" ")}readSB2(t,e,n,r){const i=e,o=t[0],s=Bt.convertSemanticSpec(o[1]);this.warp=o[4];const a=o[2];return this.variables=new It(r).readBlockParams(a),this.setSpec(s),this.type="command",e+=1+this.variables.vars.length,t.length>1&&([this.script,e]=(new Mt).readSB2(t.slice(1),e,n,this.variables,!0)),n[i]&&(this.comment=n[i]),[this,e]}readSB3(t,e,n,r){const i=e[t],o=e[i.inputs.custom_block[1]],s=Bt.convertSemanticSpec(o.mutation.proccode);this.warp="true"===o.mutation.warp.toString();const a=JSON.parse(o.mutation.argumentnames);return this.variables=new It(r).readBlockParams(a),this.setSpec(s),this.type="command",i.next&&(this.script=(new Mt).readSB3(i.next,e,n,this.variables,!0)),n[t]&&(this.comment=n[t]),this}placeholder(t,e){return this.setSpec(t),this.type=e?"reporter":"command",this.inputTypes=[],this.variables=new It,this.warp=!1,this}toXML(t){const e=[Ot("header",null),Ot("code",null),Ot("inputs",null,this.inputTypes.map((t=>Ot("input",{type:t}))))];return this.comment&&e.push(this.comment.toXML()),this.warp?e.push(Ot("script",null,Ot("block",{s:"doWarp"},this.script?this.script.toXML(t):Ot("script",null)))):this.script&&e.push(this.script.toXML(t)),Ot("block-definition",{s:this.spec,type:this.type,category:"other"},e)}}class Ct{readSB2(t,e){return this.name=t.costumeName,null!=t.text?this.file=e.media[t.baseLayerMD5+"+"+t.textLayerMD5]:this.file=e.media[t.baseLayerMD5],this.rotationCenterX=t.rotationCenterX/t.bitmapResolution,this.rotationCenterY=t.rotationCenterY/t.bitmapResolution,this}readSB3(t,e){return this.name=t.name,this.file=e.media[t.md5ext],this.rotationCenterX=t.rotationCenterX/t.bitmapResolution,this.rotationCenterY=t.rotationCenterY/t.bitmapResolution,this}toXML(){return Ot("costume",{name:this.name,"center-x":this.rotationCenterX,"center-y":this.rotationCenterY,image:this.file.toDataURL()})}}class Dt{readSB2(t){return-1===t[5]&&(this.x=t[0],this.y=t[1]),this.text=t[6],this.width=t[2],this.collapsed=!t[4],this}readSB3(t){return null===t.blockId&&(this.x=t.x/lt,this.y=t.y/2.2),this.text=t.text,this.width=t.width/lt,this.collapsed=t.minimized,this}toXML(){return null!=this.x&&null!=this.y?Ot("comment",{x:this.x,y:this.y,w:this.width,collapsed:this.collapsed},this.text):Ot("comment",{w:this.width,collapsed:this.collapsed},this.text)}}class Pt{readSB2(t,e){return this.name=t.soundName,this.file=e.media[t.md5],this}readSB3(t,e){return this.name=t.name,this.file=e.media[t.md5ext],this}toXML(){return Ot("sound",{name:this.name,sound:this.file.toDataURL()})}}class Ut{constructor(){this.isStage=!1}readSB2(t,e){this.project=e;const n=t.costumes,r=t.sounds,i=t.scriptComments,o=t.scripts,s=[];let a=0;this.name=t.objName,this.costumes=[];for(const t of n)this.costumes.push((new Ct).readSB2(t,e));if(this.sounds=[],null!=r)for(const t of r)this.sounds.push((new Pt).readSB2(t,e));if(this.costumeIndex=t.currentCostumeIndex+1,this.readVariablesSB2(t,e),this.blocks=[],this.scripts=[],null!=i)for(const t of i){const e=t[5],n=(new Dt).readSB2(t);-1===e?this.scripts.push(n):s[e]=n}if(null!=o)for(const t of o){const e=t[2];if("procDef"===e[0][0]){let t;[t,a]=(new Bt).readSB2(e,a,s,this.variables),this.blocks.push(t)}else{let e;[e,a]=(new Mt).readSB2(t,a,s,this.variables),this.scripts.push(e)}}return this}readVariablesSB2(t,e){this.variables=new It(e.globalVars)}readSB3(t,e,n){this.project=e;const r=t.costumes,i=t.sounds,o=t.comments,s=t.blocks,a={};this.name=t.name,this.costumes=[];for(const t of r)this.costumes.push((new Ct).readSB3(t,e));this.sounds=[];for(const t of i)this.sounds.push((new Pt).readSB3(t,e));this.costumeIndex=t.currentCostume+1,this.readVariablesSB3(t,e),this.blocks=[],this.scripts=[];for(const t in o)if(o.hasOwnProperty(t)){const e=o[t],n=e.blockId,r=(new Dt).readSB3(e);null===n?this.scripts.push(r):a[n]=r}for(const t in s)if(s.hasOwnProperty(t)){const e=s[t];(Array.isArray(e)||e.topLevel&&!e.shadow)&&(Array.isArray(e)||"procedures_definition"!==e.opcode?this.scripts.push((new Mt).readSB3(t,s,a,this.variables)):this.blocks.push((new Bt).readSB3(t,s,a,this.variables)))}return this}readVariablesSB3(t,e){this.variables=new It(e.globalVars)}costumesXML(){return Ot("costumes",null,Ot("list",null,this.costumes.map((t=>Ot("item",null,t.toXML())))))}soundsXML(){return Ot("sounds",null,Ot("list",null,this.sounds.map((t=>Ot("item",null,t.toXML())))))}blocksXML(){return Ot("blocks",null,this.blocks.map((t=>t.toXML(this))))}scriptsXML(){return Ot("scripts",null,this.scripts.map((t=>{if(t instanceof Dt){return t.toXML()}return t.toXML(this)})))}hasBlock(t){for(const e of this.scripts)if(e instanceof Mt){if(e.hasBlock(t))return!0}return!1}}class Ft extends Ut{readSB2(t,e){return super.readSB2(t,e),this.x=t.scratchX,this.y=t.scratchY,this.hidden=!t.visible,this.scale=t.scale,this.direction=t.direction,this.rotationStyle=at[t.rotationStyle]||1,this.draggable=t.isDraggable,this.libraryIndex=t.indexInLibrary,this}readVariablesSB2(t,e){this.variables=new It(e.globalVars).readScriptableSB2(t)}readSB3(t,e,n){return super.readSB3(t,e,n),this.x=t.x,this.y=t.y,this.hidden=!t.visible,this.scale=t.size/100,this.direction=t.direction,this.rotationStyle=At[t.rotationStyle]||1,this.draggable=t.draggable,this.libraryIndex=n,this}readVariablesSB3(t,e){this.variables=new It(e.globalVars).readScriptableSB3(t)}toXML(){const t={name:this.name,idx:this.libraryIndex,x:this.x,y:this.y,heading:this.direction,scale:this.scale,rotation:this.rotationStyle,draggable:this.draggable,costume:this.costumeIndex,color:new xt(0,0,255),pen:"middle"};return this.hidden&&(t.hidden=!0),Ot("sprite",Object.assign({},t),this.costumesXML(),this.soundsXML(),this.variables.toXML(),this.blocksXML(),this.scriptsXML())}}class zt extends Ut{constructor(){super(),this.isStage=!0}readSB2(t,e){const n=t.children;if(super.readSB2(t,e),this.variables=new It(e.globalVars),this.tempo=t.tempoBPM,this.children=[],null!=n)for(const t of n)null!=t.objName&&this.children.push((new Ft).readSB2(t,e));return this}readProjectSB3(t,e){const n=t.targets;this.children=[];for(let t=0;t<n.length;t++){const r=n[t];r.isStage?this.readSB3(r,e,t):this.children[r.layerOrder]=(new Ft).readSB3(r,e,t)}return this}readSB3(t,e,n){return super.readSB3(t,e,n),this.tempo=t.tempo,this}toXML(){const t={name:this.name,width:480,height:360,costume:this.costumeIndex,tempo:this.tempo,threadsafe:!1,lines:"round",codify:!1,scheduled:!1};return Ot("stage",Object.assign({},t),this.costumesXML(),this.soundsXML(),Ot("variables",null),this.blocksXML(),this.scriptsXML(),Ot("sprites",null,this.children.map((t=>t.toXML()))))}}var Ht=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};class jt{readProject(t,e,n,r){return Ht(this,void 0,void 0,(function*(){if(this.name=t,this.jsonObj=e,this.zip=n,this.log=r,this.unsupportedOps={},this.jsonObj.children)this.media=yield this.readMediaSB2(),this.globalVars=(new It).readScriptableSB2(this.jsonObj),this.stage=(new zt).readSB2(this.jsonObj,this);else if(this.jsonObj.targets){const t=this.jsonObj.targets.find((t=>t.isStage));this.media=yield this.readMediaSB3(),this.globalVars=(new It).readScriptableSB3(t),this.stage=(new zt).readProjectSB3(this.jsonObj,this)}this.hasBackdropEvents=this.hasBlock("event_whenbackdropswitchesto")||this.hasBlock("looks_switchbackdroptoandwait")}))}readMediaSB2(){return Ht(this,void 0,void 0,(function*(){const t=this.jsonObj,e={},n=t=>Ht(this,void 0,void 0,(function*(){const n=t.costumes,r=t.sounds;if(null!=n)for(const t of n){const n=t.baseLayerMD5,[r,i]=n.split("."),o=this.zip instanceof z?r:t.baseLayerID;if(!e[n]){const r=yield(new Y).load(this.zip,o,i,this.log,2,t.bitmapResolution);e[n]=r}if(null!=t.text){const r=t.textLayerMD5,[i,o]=r.split("."),s=this.zip instanceof z?i:t.textLayerID;if(!e[r]){const n=yield(new Y).load(this.zip,s,o,this.log,2,t.bitmapResolution);e[r]=n}const a=n+"+"+r;e[a]||(e[a]=yield e[n].addTextLayer(e[r]))}}if(null!=r)for(const t of r){const n=t.md5,[r,i]=n.split("."),o=this.zip instanceof z?r:t.soundID;if(!e[n]){const t=yield(new ot).load(this.zip,o,i,this.log);e[n]=t}}}));yield n(t);for(const e of t.children)"objName"in e&&(yield n(e));return e}))}readMediaSB3(){return Ht(this,void 0,void 0,(function*(){const t={},e=e=>Ht(this,void 0,void 0,(function*(){const n=e.costumes,r=e.sounds;for(const e of n){const n=e.md5ext;if(!t[n]){const r=yield(new Y).load(this.zip,e.assetId,e.dataFormat,this.log,3,e.bitmapResolution);t[n]=r}}for(const e of r){const n=e.md5ext;if(!t[n]){const r=yield(new ot).load(this.zip,e.assetId,e.dataFormat,this.log);t[n]=r}}}));for(const t of this.jsonObj.targets)yield e(t);return t}))}unsupportedBlock(t,e){return this.unsupportedOps.hasOwnProperty(t)||(this.log(`Unsupported block: ${t}`),this.unsupportedOps[t]=e),Ot("custom-block",{s:"UNSUPPORTED: "+t})}toXML(){return Ot("project",{name:this.name,app:"Snapinator",version:"1"},Ot("notes",null,"Converted by Snapinator"),this.stage.toXML(),Ot("hidden",null),Ot("headers",null),Ot("code",null),Ot("blocks",null,Object.keys(this.unsupportedOps).map((t=>(new Bt).placeholder("UNSUPPORTED: "+t,this.unsupportedOps[t]).toXML(null)))),this.globalVars.toXML())}hasBlock(t){if(this.stage.hasBlock(t))return!0;for(const e of this.stage.children)if(e instanceof Ft&&e.hasBlock(t))return!0;return!1}}class Xt extends Error{}class Vt extends Xt{}const Gt=function(t,e){if(!t)throw new Xt(e)};Gt.validate=function(t,e){if(!t)throw new Vt(e)};class Wt{constructor(t,e=0){this.buffer=t,this.position=e,this.uint8a=new Uint8Array(this.buffer)}read(t){const e=t.read(this.uint8a,this.position);return 0===t.size?this.position+=t.sizeOf(this.uint8a,this.position):this.position+=t.size,e}readStruct(t){const e=new t(this.uint8a,this.position);return this.position+=t.size,e}resize(t){if(this.buffer.byteLength<t){const e=this.uint8a,n=Math.pow(2,Math.ceil(Math.log(t)/Math.log(2)));this.buffer=new ArrayBuffer(n),this.uint8a=new Uint8Array(this.buffer),this.uint8a.set(e)}}write(t,e){return 0===t.size?this.resize(this.position+t.writeSizeOf(e)):this.resize(this.position+t.size),t.write(this.uint8a,this.position,e),0===t.size?this.position+=t.writeSizeOf(this.uint8a,this.position):this.position+=t.size,e}writeStruct(t,e){this.resize(this.position+t.size);const n=Object.assign(new t(this.uint8a,this.position),e);return this.position+=t.size,n}writeBytes(t,e=0,n=t.length){Gt(t instanceof Uint8Array,"writeBytes must be passed an Uint8Array"),this.resize(this.position+(n-e));for(let r=e;r<n;r++)this.uint8a[this.position+r-e]=t[r];return this.position+=n-e,t}}class $t{constructor(t,e=1/0){this.iter=t,this.maxPosition=e}[Symbol.iterator](){return this}next(){return this.iter.stream.position>=this.maxPosition?{value:null,done:!0}:this.iter.next()}}const Yt=()=>{throw new Error("Not implemented")},qt=(()=>{const t=new Uint16Array(1),e=new Uint8Array(t.buffer);return t[0]=43707,187===e[0]})();class Jt{constructor({size:t=0,sizeOf:e=(()=>t),writeSizeOf:n=Yt,toBytes:r=new Uint8Array(1),read:i,write:o=Yt}){this.size=t,this.sizeOf=e,this.writeSizeOf=n,this.toBytes=r,this.bytes=new Uint8Array(r.buffer),this.read=i,this.write=o}asPropertyObject(t){const e=this;return{get(){return e.read(this.uint8a,t+this.offset)},set(n){return e.write(this.uint8a,t+this.offset,n)},enumerable:!0}}read(){return null}}const Kt=new Jt({size:1,read:(t,e)=>t[e],write:(t,e,n)=>(t[e]=n,n)}),Qt={size:2,read(t,e){return this.bytes[1]=t[e+0],this.bytes[0]=t[e+1],this.toBytes[0]},write(t,e,n){return this.toBytes[0]=n,t[e+0]=this.bytes[1],t[e+1]=this.bytes[0],n}},Zt={size:2,read(t,e){return this.bytes[0]=t[e+0],this.bytes[1]=t[e+1],this.toBytes[0]},write(t,e,n){return this.toBytes[0]=n,t[e+0]=this.bytes[0],t[e+1]=this.bytes[1],n}};let te;te=qt?Qt:Zt;new Jt(Object.assign({},te,{toBytes:new Uint16Array(1)}));const ee=new Jt(Object.assign({},te,{toBytes:new Int16Array(1)})),ne={size:4,read(t,e){return this.bytes[3]=t[e+0],this.bytes[2]=t[e+1],this.bytes[1]=t[e+2],this.bytes[0]=t[e+3],this.toBytes[0]},write(t,e,n){return this.toBytes[0]=n,t[e+0]=this.bytes[3],t[e+1]=this.bytes[2],t[e+2]=this.bytes[1],t[e+3]=this.bytes[0],n}},re={size:4,read(t,e){return this.bytes[0]=t[e+0],this.bytes[1]=t[e+1],this.bytes[2]=t[e+2],this.bytes[3]=t[e+3],this.toBytes[0]},write(t,e,n){return this.toBytes[0]=n,t[e+0]=this.bytes[0],t[e+1]=this.bytes[1],t[e+2]=this.bytes[2],t[e+3]=this.bytes[3],n}};let ie;ie=qt?ne:re;const oe=new Jt(Object.assign({},ie,{toBytes:new Int32Array(1)})),se=new Jt(Object.assign({},ie,{toBytes:new Uint32Array(1)}));let ae;ae=qt?Zt:Qt;const le=new Jt(Object.assign({},ae,{toBytes:new Uint16Array(1)}));let ue;ue=qt?re:ne;const ce=new Jt(Object.assign({},ue,{toBytes:new Uint32Array(1)}));let pe;pe=qt?{size:8,read(t,e){return this.bytes[7]=t[e+0],this.bytes[6]=t[e+1],this.bytes[5]=t[e+2],this.bytes[4]=t[e+3],this.bytes[3]=t[e+4],this.bytes[2]=t[e+5],this.bytes[1]=t[e+6],this.bytes[0]=t[e+7],this.toBytes[0]}}:{size:8,read(t,e){return this.bytes[7]=t[e+0],this.bytes[6]=t[e+1],this.bytes[5]=t[e+2],this.bytes[4]=t[e+3],this.bytes[3]=t[e+4],this.bytes[2]=t[e+5],this.bytes[1]=t[e+6],this.bytes[0]=t[e+7],this.toBytes[0]}};const de=new Jt(Object.assign({},pe,{toBytes:new Float64Array(1)}));class he extends Jt{constructor(t){super({size:t,read(e,n){let r="";for(let i=0;i<t;i++){const t=e[n+i];Gt(t<=127,"Non-ascii character in FixedAsciiString"),r+=String.fromCharCode(t)}return r},write(e,n,r){for(let i=0;i<t;i++){const t=r.charCodeAt(i);Gt(t<=127,"Non-ascii character in FixedAsciiString"),e[n+i]=t}return r}})}}var fe=__webpack_require__(209);const me=10485760;let _e;_e=new Jt(qt?{size:3,read:(t,e)=>t[e+0]<<16|t[e+1]<<8|t[e+2]}:{size:3,read:(t,e)=>t[e+2]<<16|t[e+1]<<8|t[e+0]});const ye=new Jt({sizeOf(t,e){const n=ee.read(t,e);return ee.size+n},read(t,e){let n=0,r=0;const i=ee.read(t,e);for(let o=0;o<i;o++)n+=r*Kt.read(t,e++),r*=256;return n}}),ge=new Jt({sizeOf(t,e){const n=se.read(t,e);return se.size+n},read(t,e){const n=se.read(t,e);Gt(n<me,"asciiString too big"),e+=4;let r="";for(let i=0;i<n;i++)r+=String.fromCharCode(t[e++]);return r}}),be=new Jt({sizeOf:(t,e)=>se.size+se.read(t,e),read(t,e){const n=se.read(t,e);return Gt(n<me,"bytes too big"),e+=se.size,Gt(n<me,"uint8a array too big"),new Uint8Array(t.buffer,e,n)}}),we=new Jt({sizeOf:(t,e)=>se.size+2*se.read(t,e),read(t,e){const n=se.read(t,e);Gt(n<me,"sound too big"),e+=se.size;const r=2*n;return Gt(r<me,"uint8a array too big"),new Uint8Array(t.buffer,e,r)}}),ve=new Jt({sizeOf:(t,e)=>se.size+se.read(t,e)*se.size,read(t,e){const n=se.read(t,e);Gt(n<me,"bitmap too big"),e+=se.size,Gt(n<me,"uint8a array too big");const r=new Uint32Array(n);for(let i=0;i<n;i++)r[i]=se.read(t,e),e+=se.size;return r}});let Se;Se="undefined"==typeof TextDecoder?new fe.TextDecoder:new TextDecoder;const Ae=new Jt({sizeOf:(t,e)=>se.size+se.read(t,e),read(t,e){const n=se.read(t,e);return Gt(n<me,"utf8 too big"),e+=se.size,Gt(n<me,"uint8a array too big"),Se.decode(new Uint8Array(t.buffer,e,n))}}),Oe=new Jt({size:4,read(t,e){const n=se.read(t,e);return(255<<24|(n>>22&255)<<16|(n>>12&255)<<8|n>>2&255)>>>0}}),xe=new Jt({size:5,read(t,e){const n=se.read(t,e);return(Kt.read(t,e)<<24|(n>>22&255)<<16|(n>>12&255)<<8|n>>2&255)>>>0}}),Ne={NULL:1,TRUE:2,FALSE:3,SMALL_INT:4,SMALL_INT_16:5,LARGE_INT_POSITIVE:6,LARGE_INT_NEGATIVE:7,FLOATING:8,STRING:9,SYMBOL:10,BYTES:11,SOUND:12,BITMAP:13,UTF8:14,ARRAY:20,ORDERED_COLLECTION:21,SET:22,IDENTITY_SET:23,DICTIONARY:24,IDENTITY_DICTIONARY:25,COLOR:30,TRANSLUCENT_COLOR:31,POINT:32,RECTANGLE:33,FORM:34,SQUEAK:35,OBJECT_REF:99,MORPH:100,ALIGNMENT:104,STATIC_STRING:105,UPDATING_STRING:106,SAMPLED_SOUND:109,IMAGE_MORPH:110,SPRITE:124,STAGE:125,WATCHER:155,IMAGE_MEDIA:162,SOUND_MEDIA:164,MULTILINE_STRING:171,WATCHER_READOUT_FRAME:173,WATCHER_SLIDER:174,LIST_WATCHER:175},Ee=Object.entries(Ne).reduce(((t,[e,n])=>(t[n]=e,t)),{});class ke{constructor(t,e){this.classId=t,this.position=e}}const Te=t=>"object"==typeof t&&t?t.valueOf():t;class Me extends ke{constructor(t,e,n){super(t,e),this.value=n}valueOf(){return this.value}toJSON(){return this.classId===Ne.TRANSLUCENT_COLOR||this.classId===Ne.COLOR?16777215&this.value:this.value}toString(){return this.value}}class Le extends ke{constructor(t,e,n){super(t,e),this.size=n}}class Re extends ke{constructor(t,e,n){super(t,e),this.index=n}valueOf(){return`Ref(${this.index})`}}class Ie extends Le{constructor(t,e,n,r){super(t,e,r),this.version=n}}class Be{constructor({type:t=Me,read:e,value:n=(e?t=>t.read(e):null)}){this.type=t,this.value=n}next(t,e,n){return{value:new this.type(e,n,this.value(t)),done:!1}}}const Ce={[Ne.NULL]:{value:()=>null},[Ne.TRUE]:{value:()=>!0},[Ne.FALSE]:{value:()=>!1},[Ne.SMALL_INT]:{read:oe},[Ne.SMALL_INT_16]:{read:ee},[Ne.LARGE_INT_POSITIVE]:{read:ye},[Ne.LARGE_INT_NEGATIVE]:{read:ye},[Ne.FLOATING]:{read:de},[Ne.STRING]:{read:ge},[Ne.SYMBOL]:{read:ge},[Ne.BYTES]:{read:be},[Ne.SOUND]:{read:we},[Ne.BITMAP]:{read:ve},[Ne.UTF8]:{read:Ae},[Ne.ARRAY]:{type:Le,read:oe},[Ne.ORDERED_COLLECTION]:{type:Le,read:oe},[Ne.SET]:{type:Le,read:oe},[Ne.IDENTITY_SET]:{type:Le,read:oe},[Ne.DICTIONARY]:{type:Le,value:t=>2*t.read(oe)},[Ne.IDENTITY_DICTIONARY]:{type:Le,value:t=>2*t.read(oe)},[Ne.COLOR]:{read:Oe},[Ne.TRANSLUCENT_COLOR]:{read:xe},[Ne.POINT]:{type:Le,value:()=>2},[Ne.RECTANGLE]:{type:Le,value:()=>4},[Ne.FORM]:{type:Le,value:()=>5},[Ne.SQUEAK]:{type:Le,value:()=>6},[Ne.OBJECT_REF]:{type:Re,read:_e}},De=Array.from({length:256},((t,e)=>Ce[e]?new Be(Ce[e]):null)),Pe=new Be({type:class extends Le{constructor(t,e){super(t,e,0)}},value:()=>null});class Ue{constructor(t,e){this.buffer=t,this.stream=new Wt(t,e)}[Symbol.iterator](){return this}next(){if(this.stream.position>=this.stream.uint8a.length)return{value:null,done:!0};const t=this.stream.position,e=this.stream.read(Kt),n=De[e];if(null!==n)return n.next(this.stream,e,t);if(e<Ne.OBJECT_REF)return Pe.next(this.stream,e,t);const r=this.stream.read(Kt),i=this.stream.read(Kt);return{value:new Ie(e,t,r,i),done:!1}}}class Fe{constructor({classId:t,version:e,fields:n}){this.classId=t,this.version=e,this.fields=n}get FIELDS(){return[]}get RAW_FIELDS(){return this.fields}string(t){return String(this.fields[t])}number(t){return+this.fields[t]}boolean(t){return!!this.fields[t]}toString(){return this.constructor===Fe?`${this.constructor.name} ${this.classId} ${Ee[this.classId]}`:this.constructor.name}static define(t,e=Fe){class n extends e{get FIELDS(){return t}static get FIELDS(){return t}}return Object.keys(t).forEach((e=>{const r=t[e];Object.defineProperty(n.prototype,e.toLowerCase().replace(/_(\w)/g,(([,t])=>t.toUpperCase())),{get(){return this.fields[r]}})})),n}}class ze{constructor(){let t;this.bit=new Uint32Array(1),this.crc=0,this.c=0,this.table=[];for(let e=0;e<256;e++){t=e;for(let e=0;e<8;e++)t=1&t?3988292384^t>>>1:t>>>1;this.table[e]=t>>>0}}update(t,e=0,n=t.length){let r=~this.crc>>>0;for(let i=0;i<n;i++)r=r>>>8^this.table[255&(r^t[e+i])];return this.crc=~r>>>0,this}get digest(){return this.crc}}const He=[0,4278190080,4294967295,4286611584,4294901760,4278255360,4278190335,4278255615,4294967040,4294902015,4280295456,4282400832,4284506208,4288651167,4290756543,4292861919,4278716424,4279242768,4279769112,4280821800,4281348144,4281874488,4282927176,4283453520,4283979864,4285032552,4285558896,4286085240,4287072135,4287598479,4288124823,4289177511,4289703855,4290230199,4291282887,4291809231,4292335575,4293388263,4293914607,4294440951,4278190080,4278203136,4278216192,4278229248,4278242304,4278255360,4278190131,4278203187,4278216243,4278229299,4278242355,4278255411,4278190182,4278203238,4278216294,4278229350,4278242406,4278255462,4278190233,4278203289,4278216345,4278229401,4278242457,4278255513,4278190284,4278203340,4278216396,4278229452,4278242508,4278255564,4278190335,4278203391,4278216447,4278229503,4278242559,4278255615,4281532416,4281545472,4281558528,4281571584,4281584640,4281597696,4281532467,4281545523,4281558579,4281571635,4281584691,4281597747,4281532518,4281545574,4281558630,4281571686,4281584742,4281597798,4281532569,4281545625,4281558681,4281571737,4281584793,4281597849,4281532620,4281545676,4281558732,4281571788,4281584844,4281597900,4281532671,4281545727,4281558783,4281571839,4281584895,4281597951,4284874752,4284887808,4284900864,4284913920,4284926976,4284940032,4284874803,4284887859,4284900915,4284913971,4284927027,4284940083,4284874854,4284887910,4284900966,4284914022,4284927078,4284940134,4284874905,4284887961,4284901017,4284914073,4284927129,4284940185,4284874956,4284888012,4284901068,4284914124,4284927180,4284940236,4284875007,4284888063,4284901119,4284914175,4284927231,4284940287,4288217088,4288230144,4288243200,4288256256,4288269312,4288282368,4288217139,4288230195,4288243251,4288256307,4288269363,4288282419,4288217190,4288230246,4288243302,4288256358,4288269414,4288282470,4288217241,4288230297,4288243353,4288256409,4288269465,4288282521,4288217292,4288230348,4288243404,4288256460,4288269516,4288282572,4288217343,4288230399,4288243455,4288256511,4288269567,4288282623,4291559424,4291572480,4291585536,4291598592,4291611648,4291624704,4291559475,4291572531,4291585587,4291598643,4291611699,4291624755,4291559526,4291572582,4291585638,4291598694,4291611750,4291624806,4291559577,4291572633,4291585689,4291598745,4291611801,4291624857,4291559628,4291572684,4291585740,4291598796,4291611852,4291624908,4291559679,4291572735,4291585791,4291598847,4291611903,4291624959,4294901760,4294914816,4294927872,4294940928,4294953984,4294967040,4294901811,4294914867,4294927923,4294940979,4294954035,4294967091,4294901862,4294914918,4294927974,4294941030,4294954086,4294967142,4294901913,4294914969,4294928025,4294941081,4294954137,4294967193,4294901964,4294915020,4294928076,4294941132,4294954188,4294967244,4294902015,4294915071,4294928127,4294941183,4294954239,4294967295],je=[4294967295,4278190080],Xe=new Jt({sizeOf(t,e){const n=t[e];return n<=223?1:n<=254?2:5},read(t,e){const n=t[e];return n<=223?n:n<=254?256*(n-224)+t[e+1]:se.read(t,e+1)}});class Ve{decode(t,e,n,r,i){const o=this.decodePixels(r,32===n);if(n<=8)return i||(i=1===n?je:He),this.unpackPixels(o,t,e,n,i);if(16===n)return this.raster16To32(o,t,e);if(32===n)return o;throw new Error("Unhandled Squeak Image depth.")}decodePixels(t,e){let n;if(Array.isArray(t)||t instanceof Uint32Array){if(n=new Uint32Array(t),e)for(let t=0;t<n.length;t++)0!==n[t]&&(n[t]=4278190080|n[t]);return n}const r=new Wt(t.buffer,t.byteOffset),i=r.read(Xe);n=new Uint32Array(i);let o=0;for(;o<i;){const t=r.read(Xe),i=t>>2;let s;switch(3&t){case 0:o+=i;break;case 1:s=r.read(Kt),s|=s<<24|s<<16|s<<8,e&&0!==s&&(s|=4278190080);for(let t=0;t<i;t++)n[o++]=s;break;case 2:s=r.read(se),e&&0!==s&&(s|=4278190080);for(let t=0;t<i;t++)n[o++]=s;break;case 3:for(let t=0;t<i;t++)s=r.read(se),e&&0!==s&&(s|=4278190080),n[o++]=s}}return n}unpackPixels(t,e,n,r,i){const o=new Uint32Array(e*n),s=(1<<r)-1,a=32/r;let l=0,u=0;for(let c=0;c<n;c++){let n,c=-1;for(let p=0;p<e;p++)c<0&&(c=r*(a-1),n=t[u++]),o[l++]=i[n>>c&s],c-=r}return o}raster16To32(t,e,n){const r=new Uint32Array(2*t.length);let i,o,s,a=0,l=0;for(let u=0;u<n;u++){i=-1;for(let n=0;n<e;n++){if(i<0&&(i=16,o=t[a++]),s=o>>i&65535,0!==s){s=4278190080|(s>>7&248)<<16|(s>>2&248)<<8|s<<3&248}r[l++]=s,i-=16}}return r}buildCustomColormap(t,e,n){const r=new Uint32Array(1<<t);for(let t=0;t<e.length;t++)r[t]=n[e[t].index-1];return r}}const Ge=[7,8,9,10,11,12,13,14,16,17,19,21,23,25,28,31,34,37,41,45,50,55,60,66,73,80,88,97,107,118,130,143,157,173,190,209,230,253,279,307,337,371,408,449,494,544,598,658,724,796,876,963,1060,1166,1282,1411,1552,1707,1878,2066,2272,2499,2749,3024,3327,3660,4026,4428,4871,5358,5894,6484,7132,7845,8630,9493,10442,11487,12635,13899,15289,16818,18500,20350,22385,24623,27086,29794,32767],We={2:[-1,2,-1,2],3:[-1,-1,2,4,-1,-1,2,4],4:[-1,-1,-1,-1,2,4,6,8,-1,-1,-1,-1,2,4,6,8],5:[-1,-1,-1,-1,-1,-1,-1,-1,1,2,4,6,8,10,13,16,-1,-1,-1,-1,-1,-1,-1,-1,1,2,4,6,8,10,13,16]};class $e{constructor(t){this.bitsPerSample=t,this.indexTable=We[t],this.signMask=1<<t-1,this.valueMask=this.signMask-1,this.valueHighBit=this.signMask>>1,this.bitPosition=0,this.currentByte=0,this.stream=null,this.end=0}decode(t){this.bitPosition=0,this.currentByte=0,this.stream=new Wt(t.buffer,t.byteOffset),this.end=t.byteOffset+t.length;const e=Math.floor(8*t.length/this.bitsPerSample),n=new Int16Array(e);let r=0,i=0;for(let t=0;t<e;t++){const e=this.nextCode();Gt(e>=0,"Ran out of bits in Squeak Sound");let o=Ge[i],s=0;for(let t=this.valueHighBit;t>0;t>>=1)0!=(e&t)&&(s+=o),o>>=1;s+=o,r+=0==(e&this.signMask)?s:-s,i+=this.indexTable[e],i<0&&(i=0),i>88&&(i=88),r>32767&&(r=32767),r<-32768&&(r=-32768),n[t]=r}return n}nextCode(){let t=this.bitsPerSample,e=t-this.bitPosition,n=e<0?this.currentByte>>-e:this.currentByte<<e;for(;e>0;){if(t-=this.bitPosition,!(this.end-this.stream.position>0))return this.currentByte=0,this.bitPosition=0,-1;this.currentByte=this.stream.read(Kt),this.bitPosition=8,e=t-this.bitPosition,n+=e<0?this.currentByte>>-e:this.currentByte<<e}return this.bitPosition-=t,this.currentByte=this.currentByte&255>>8-this.bitPosition,n}static samples(t,e){return 8*e.length/t}}class Ye{constructor(t=new Uint8Array(this.size),e=0){this.uint8a=t,this.offset=e}equals(t){for(const e in t)if(this[e]!==t[e])return!1;return!0}view(){const t=this.constructor.name,e={toString:()=>t};for(const t in this.shape)e[t]=this[t];return e}static initConstructor(t){return t.size=t.prototype.size,t}static extend(t){const e=class extends Ye{get shape(){return t}};let n=0;return Object.keys(t).forEach((r=>{if(Object.defineProperty(e.prototype,r,t[r].asPropertyObject(n)),0===t[r].size)throw new Error("Packet cannot be defined with variable sized members.");n+=t[r].size})),e.prototype.size=n,e.size=n,e}}class qe extends(Ye.extend({riff:new he(4),length:ce,wave:new he(4)})){}Ye.initConstructor(qe);class Je extends(Ye.extend({chunkType:new he(4),length:ce})){}Ye.initConstructor(Je);class Ke extends(Ye.extend({format:le,channels:le,sampleRate:ce,bytesPerSec:ce,blockAlignment:le,bitsPerSample:le})){}Ye.initConstructor(Ke);class Qe{encode(t,{channels:e=1,sampleRate:n=22050}={}){const r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),i=qe.size+Je.size+Ke.size+Je.size+r.length,o=new Wt(new ArrayBuffer(i));return o.writeStruct(qe,{riff:"RIFF",length:i-8,wave:"WAVE"}),o.writeStruct(Je,{chunkType:"fmt ",length:Ke.size}),o.writeStruct(Ke,{format:1,channels:e,sampleRate:n,bytesPerSec:2*n*e,blockAlignment:2*e,bitsPerSample:16}),o.writeStruct(Je,{chunkType:"data",length:i-o.position-Je.size}),o.writeBytes(r),o.uint8a}static encode(t,e){return(new Qe).encode(t,e)}static samples(t){const e=new Je(t,qe.size).length;return new Je(t,qe.size+Je.size+e).length/2}}var Ze=__webpack_require__(245),tn=__webpack_require__.n(Ze);class en extends(Fe.define({X:0,Y:1})){}class nn extends(Fe.define({X:0,Y:1,X2:2,Y2:3})){get width(){return this.x2-this.x}get height(){return this.y2-this.y}}class rn extends(Fe.define({WIDTH:0,HEIGHT:1,DEPTH:2,BYTES:4,COLORMAP:5})){get decoded(){return this._decoded||(this._decoded=(t=>{for(let e=0;e<t.length;e+=4){const n=t[e+2],r=t[e+0];t[e+2]=r,t[e+0]=n}return t})(new Uint8Array((new Ve).decode(this.width.value,this.height.value,this.depth.value,this.bytes.value,this.colormap&&this.colormap.map((t=>t.valueOf()))).buffer))),this._decoded}get extension(){return"uncompressed"}}class on extends(Fe.define({STAGE_CONTENTS:2,OBJ_NAME:6,VARS:7,BLOCKS_BIN:8,IS_CLONE:9,MEDIA:10,CURRENT_COSTUME:11,ZOOM:12,H_PAN:13,V_PAN:14,OBSOLETE_SAVED_STATE:15,SPRITE_ORDER_IN_LIBRARY:16,VOLUME:17,TEMPO_BPM:18,SCENE_STATES:19,LISTS:20})){get spriteOrderInLibrary(){return this.fields[this.FIELDS.SPRITE_ORDER_IN_LIBRARY]||null}get tempoBPM(){return this.fields[this.FIELDS.TEMPO_BPM]||0}get lists(){return this.fields[this.FIELDS.LISTS]||[]}}class sn extends(Fe.define({BOX:0,PARENT:1,COLOR:3,VISIBLE:4,OBJ_NAME:6,VARS:7,BLOCKS_BIN:8,IS_CLONE:9,MEDIA:10,CURRENT_COSTUME:11,VISIBILITY:12,SCALE_POINT:13,ROTATION_DEGREES:14,ROTATION_STYLE:15,VOLUME:16,TEMPO_BPM:17,DRAGGABLE:18,SCENE_STATES:19,LISTS:20})){get scratchX(){return this.box.x+this.currentCostume.rotationCenter.x-240}get scratchY(){return 180-(this.box.y+this.currentCostume.rotationCenter.y)}get visible(){return 0==(1&this.fields[this.FIELDS.VISIBLE])}get tempoBPM(){return this.fields[this.FIELDS.TEMPO_BPM]||0}get lists(){return this.fields[this.FIELDS.LISTS]||[]}}Fe.define({RECTANGLE:0,FONT:8,COLOR:9,LINES:11});class an extends(Fe.define({COSTUME_NAME:0,BITMAP:1,ROTATION_CENTER:2,TEXT_DETAILS:3,BASE_LAYER_DATA:4,OLD_COMPOSITE:5})){get image(){return this.oldComposite instanceof rn?this.oldComposite:this.baseLayerData.value?null:this.bitmap}get width(){return null===this.image?-1:this.image.width}get height(){return null===this.image?-1:this.image.height}get rawBytes(){return null===this.image?this.baseLayerData.value.slice():this.image.bytes.value}get decoded(){return null===this.image?this.baseLayerData.value.slice():this.image.decoded}get crc(){if(!this._crc){const t=(new ze).update(new Uint8Array(new Uint32Array([this.bitmap.width]).buffer)).update(new Uint8Array(new Uint32Array([this.bitmap.height]).buffer)).update(new Uint8Array(new Uint32Array([this.bitmap.depth]).buffer)).update(this.rawBytes);this._crc=t.digest}return this._crc}get extension(){return this.oldComposite instanceof rn?"uncompressed":this.baseLayerData.value?"jpg":"uncompressed"}toString(){return`ImageMediaData "${this.costumeName}"`}}class ln extends(Fe.define({DATA:3,RATE:4})){}class un extends(Fe.define({NAME:0,UNCOMPRESSED:1,RATE:4,BITS_PER_SAMPLE:5,DATA:6})){get rate(){return 0!==this.uncompressed.data.value.length?this.uncompressed.rate:this.fields[this.FIELDS.RATE]}get rawBytes(){return this.data&&this.data.value?this.data.value:this.uncompressed.data.value}get decoded(){return this._decoded||(this.data&&this.data.value?this._decoded=new $e(this.bitsPerSample.value).decode(this.data.value):this._decoded=new Int16Array((t=>{const e=new Uint8Array(t);for(let n=0;n<e.length;n+=2)e[n]=t[n+1],e[n+1]=t[n];return e})(this.uncompressed.data.value.slice()).buffer)),this._decoded}get crc(){return this._crc||(this._crc=(new ze).update(new Uint32Array([this.rate])).update(this.rawBytes).digest),this._crc}get sampleCount(){return this.data&&this.data.value?$e.samples(this.bitsPerSample.value,this.data.value):this.uncompressed.data.value.length/2}get extension(){return"pcm"}get wavEncodedData(){return this._wavEncodedData||(this._wavEncodedData=new Uint8Array(Qe.encode(this.decoded,{sampleRate:this.rate&&this.rate.value}))),this._wavEncodedData}get md5(){return this._md5||(this._md5=tn()(this.wavEncodedData)),this._md5}toString(){return`SoundMediaData "${this.name}"`}}class cn extends(Fe.define({BOX:0,HIDDEN_WHEN_NULL:1,LIST_NAME:8,CONTENTS:9,TARGET:10})){get x(){return null===Te(this.hiddenWhenNull)?5:this.box.x+1}get y(){return null===Te(this.hiddenWhenNull)?5:this.box.y+1}get width(){return this.box.width-2}get height(){return this.box.height-2}}class pn extends(Fe.define({BOX:0,PARENT:1,FRAMES:2,COLOR:3,DIRECTION:8,ALIGNMENT:9})){}class dn extends(Fe.define({BOX:0,PARENT:1,COLOR:3})){}class hn extends(Fe.define({BOX:0,COLOR:3,VALUE:8})){}class fn extends(Fe.define({BOX:0,READOUT_FRAME:1,COLOR:3,FONT:6,VALUE:8,TARGET:10,CMD:11,PARAM:13})){}class mn extends(Fe.define({BOX:0})){}const _n=1,yn=2,gn=3;class bn extends(Fe.define({BOX:0,TARGET:1,SHAPE:2,READOUT:14,READOUT_FRAME:15,SLIDER:16,ALIGNMENT:17,SLIDER_MIN:20,SLIDER_MAX:21})){get x(){return this.box.x}get y(){return this.box.y}get mode(){return null===Te(this.slider)?this.readoutFrame.box.height<=14?_n:yn:gn}get isDiscrete(){return Math.floor(this.sliderMin)===this.sliderMin&&Math.floor(this.sliderMax)===this.sliderMax&&Math.floor(this.readout.value)===this.readout.value}}const wn={[Ne.POINT]:en,[Ne.RECTANGLE]:nn,[Ne.FORM]:rn,[Ne.SQUEAK]:rn,[Ne.SAMPLED_SOUND]:ln,[Ne.SPRITE]:sn,[Ne.STAGE]:on,[Ne.IMAGE_MEDIA]:an,[Ne.SOUND_MEDIA]:un,[Ne.ALIGNMENT]:pn,[Ne.MORPH]:dn,[Ne.WATCHER_READOUT_FRAME]:mn,[Ne.STATIC_STRING]:hn,[Ne.UPDATING_STRING]:fn,[Ne.WATCHER]:bn,[Ne.LIST_WATCHER]:cn},vn=Array.from({length:256},((t,e)=>wn[e]||null));class Sn{constructor(t){this.valueIterator=t}[Symbol.iterator](){return this}next(){const t=this.valueIterator.next();if(t.done)return t;const e=t.value,{classId:n}=e;let r=e;if(e instanceof Le){r=[];for(let t=0;t<e.size;t++)r.push(this.next().value)}if(null!==vn[n]||e instanceof Ie){r=new(vn[e.classId]||Fe)({classId:e.classId,version:e.version,fields:r})}return{value:r,done:!1}}}class An{constructor(t){this.table=Array.from(t),this.fixed=this.fix(this.table)}fix(){const t=[];for(let e=0;e<this.table.length;e++)this.fixItem(this.table[e]),t.push(this.table[e]);return t}fixItem(t){if(void 0!==t.fields&&(t=t.fields),Array.isArray(t))for(let e=0;e<t.length;e++)t[e]=this.deref(t[e])}deref(t){return t instanceof Re?this.table[t.index-1]:t}}class On extends(Ye.extend({support8Bit:Kt,png:new he(3),dosLineEnding:new he(2),dosEndOfFile:new he(1),unixLineEnding:new he(1)})){static validate(){Gt(this.equals({support8Bit:137,png:"PNG",dosLineEnding:"\r\n",dosEndOfFile:"",unixLineEnding:"\n"}),"PNGSignature does not match the expected values")}}Ye.initConstructor(On);class xn extends(Ye.extend({length:se,chunkType:new he(4)})){}Ye.initConstructor(xn);class Nn extends(Ye.extend({checksum:se})){}Ye.initConstructor(Nn);class En extends(Ye.extend({width:se,height:se,bitDepth:Kt,colorType:Kt,compressionMethod:Kt,filterMethod:Kt,interlaceMethod:Kt})){}Ye.initConstructor(En);class kn extends(Ye.extend({method:Kt})){}Ye.initConstructor(kn);class Tn{constructor(){this.adler=1}update(t,e,n){let r=65535&this.adler,i=this.adler>>>16;for(let o=0;o<n;o++)r=(r+t[e+o])%65521,i=(i+r)%65521;return this.adler=i<<16|r,this}get digest(){return this.adler}}const Mn=65535;class Ln extends(Ye.extend({cmf:Kt,flag:Kt})){}Ye.initConstructor(Ln);class Rn extends(Ye.extend({lastPacket:Kt,length:le,lengthCheck:le})){}Ye.initConstructor(Rn);class In extends(Ye.extend({checksum:ce})){}Ye.initConstructor(In);class Bn{constructor(t){this.stream=t}get uint8a(){return this.stream.uint8a}set uint8a(t){return this.stream.uint8a=t,this.stream.uint8a}get position(){return this.stream.position}set position(t){return this.stream.position=t,this.stream.position}writeStruct(t,e){return this.stream.writeStruct(t,e)}writeBytes(t,e=0,n=t.length){return this.stream.writeBytes(t,e,n)}}class Cn extends Bn{constructor(t){super(t),this.stream.writeStruct(Ln,{cmf:8,flag:29}),this.adler=new Tn,this.chunk=this.stream.writeStruct(Rn,{lastPacket:0,length:0,lengthCheck:65535})}get _deflateIndex(){return this.chunk.length}set _deflateIndex(t){return this.chunk.length=t,this.chunk.lengthCheck=65535^t,this.chunk.length}writeStruct(t,e){this.writeBytes(Object.assign(new t,e).uint8a)}writeBytes(t,e=0,n=t.length){let r=e;for(;n-r>0;){this._deflateIndex===Mn&&(this.chunk=this.stream.writeStruct(Rn,{lastPacket:0,length:0,lengthCheck:65535}));const e=Math.min(n-r,Mn-this._deflateIndex);this.stream.writeBytes(t,r,r+e),this._deflateIndex+=e,r+=e}this.adler.update(t,e,n-e)}finish(){this.chunk.lastPacket=1,this.stream.writeStruct(In,{checksum:this.adler.digest})}static estimateSize(t){const e=Math.ceil(t/Mn);return Ln.size+e*Rn.size+In.size+t}}class Dn extends Bn{constructor(t,e="IHDR"){super(t),this.start=this.stream.writeStruct(xn,{length:0,chunkType:e}),this.crc=new ze}finish(){const t=this.start.offset+this.start.size,e=this.position-t;this.start.length=e,this.crc.update(this.stream.uint8a,t-se.size,e+se.size),this.stream.writeStruct(Nn,{checksum:this.crc.digest})}static size(t){return xn.size+t+Nn.size}}class Pn{encode(t,e,n){const r=4*t+kn.size,i=r*e,o=On.size+Dn.size(En.size)+Dn.size(Cn.estimateSize(i))+Dn.size(0),s=new Wt(new ArrayBuffer(o));s.writeStruct(On,{support8Bit:137,png:"PNG",dosLineEnding:"\r\n",dosEndOfFile:"",unixLineEnding:"\n"});const a=new Dn(s,"IHDR");a.writeStruct(En,{width:t,height:e,bitDepth:8,colorType:6,compressionMethod:0,filterMethod:0,interlaceMethod:0}),a.finish();const l=new Dn(s,"IDAT"),u=new Cn(l);let c=0;for(;c<n.length;){u.writeStruct(kn,{method:0});const t=Math.min(n.length-c,r-kn.size);u.writeBytes(n,c,c+t),c+=t}u.finish(),l.finish();return new Dn(s,"IEND").finish(),s.buffer}static encode(t,e,n){return(new Pn).encode(t,e,n)}}class Un{constructor(t){this.file=t}async(t){return Gt("uint8array"===t,"SB1FakeZipFile only supports uint8array"),Promise.resolve(this.file.bytes)}}class Fn{constructor(t){this.files=t}file(t){if(t in this.files)return new Un(this.files[t])}}const zn=t=>"uncompressed"===t.extension?new Uint8Array(Pn.encode(t.width,t.height,t.decoded)):t.decoded,Hn=t=>{const e=String(t[t.length-1]),n=t.length-1;return"mouse"===e?t[n]="_mouse_":"edge"===e?t[n]="_edge_":t[t.length-1]instanceof on&&(t[n]="_stage_"),t},jn={getParam:([t,e,n,r])=>[t,e,n,r||"r"],changeVariable:t=>[t[2],t[1],t[3]],EventHatMorph:t=>"Scratch-StartClicked"===String(t[1])?["whenGreenFlag"]:["whenIReceive",t[1]],MouseClickEventHatMorph:()=>["whenClicked"],KeyEventHatMorph:t=>["whenKeyPressed",t[1]],stopScripts:t=>"other scripts"===String(t[1])?[t[0],"other scripts in sprite"]:t,abs:t=>["computeFunction:of:","abs",t[1]],sqrt:t=>["computeFunction:of:","sqrt",t[1]],"\\\\":t=>["%",...t.slice(1)],doReturn:()=>["stopScripts","this script"],stopAll:()=>["stopScripts","all"],"showBackground:":t=>["startScene",t[1]],nextBackground:()=>["nextScene"],doForeverIf:t=>["doForever",[["doIf",t[1],t[2]]]],"getAttribute:of:":Hn,"gotoSpriteOrMouse:":Hn,"distanceTo:":Hn,"pointTowards:":Hn,"touching:":Hn},Xn=t=>{const{info:e,stageData:n,images:r,sounds:i}=t,o=t=>{const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e},s=([t,e])=>({name:t,value:e,isPersistent:!1}),a=([,{listName:t,contents:e,x:n,y:r,width:i,height:o,hiddenWhenNull:s}])=>{return{listName:t,contents:e,isPersistent:!1,x:n,y:r,width:i,height:o,visible:null!==(a=s,"object"==typeof a&&a?a.valueOf():a)};var a},l=t=>{const e=i.findIndex((e=>e.crc===t.crc));return{soundName:t.name,soundID:e,md5:`${t.md5}.wav`,sampleCount:t.sampleCount,rate:t.rate,format:""}},u=t=>{const e=r.findIndex((e=>e.crc===t.crc));return{costumeName:t.costumeName,baseLayerID:e,baseLayerMD5:`${tn()(t.rawBytes)}.${n=t,"uncompressed"===n.extension?"png":"jpg"}`,bitmapResolution:1,rotationCenterX:t.rotationCenter.x,rotationCenterY:t.rotationCenter.y};var n},c=t=>{let e=t.map(d);const n=jn[e[0]];return n&&(e=n(e)),e},p=t=>t.map(c),d=t=>t instanceof sn?t.objName:Array.isArray(t)?0===t.length||Array.isArray(t[0])?p(t):c(t):t,h=t=>[t[0].x,t[0].y,p(t[1])],f=t=>t instanceof sn?(t=>{const e=t.media.filter((t=>t instanceof an)),r=t.media.filter((t=>t instanceof un));return{objName:t.objName,variables:o(t.vars).map(s),lists:o(t.lists).map(a),scripts:t.blocksBin.map(h),costumes:e.map(u),currentCostumeIndex:e.findIndex((e=>e.crc===t.currentCostume.crc)),sounds:r.map(l),scratchX:t.scratchX,scratchY:t.scratchY,scale:t.scalePoint.x,direction:Math.round(1e6*t.rotationDegrees)/1e6-270,rotationStyle:t.rotationStyle,isDraggable:t.draggable,indexInLibrary:n.spriteOrderInLibrary.indexOf(t),visible:t.visible,spriteInfo:{}}})(t):null;return JSON.parse(JSON.stringify(Object.assign((t=>{const e=t.media.filter((t=>t instanceof an)),n=t.media.filter((t=>t instanceof un));return{objName:t.objName,variables:o(t.vars).map(s),lists:o(t.lists).map(a),scripts:t.blocksBin.map(h),costumes:e.map(u),currentCostumeIndex:e.findIndex((e=>e.crc===t.currentCostume.crc)),sounds:n.map(l),penLayerMD5:"5c81a336fab8be57adc039a8a2b33ca9.png",penLayerID:0,tempoBPM:t.tempoBPM,videoAlpha:.5,children:t.stageContents.map(f).filter(Boolean).reverse()}})(n),{info:(t=>{const e={};for(let n=0;n<t.length;n+=2)"thumbnail"!==String(t[n])&&(e[String(t[n])]=String(t[n+1]));return e})(e)})))};class Vn extends(Ye.extend({version:new he(10),infoByteLength:se})){validate(){Gt.validate(this.equals({version:"ScratchV01"})||this.equals({version:"ScratchV02"}),"Invalid Scratch file signature.")}}Ye.initConstructor(Vn);class Gn extends(Ye.extend({ObjS:new he(4),ObjSValue:Kt,Stch:new he(4),StchValue:Kt,numObjects:se})){validate(){Gt.validate(this.equals({ObjS:"ObjS",ObjSValue:1,Stch:"Stch",StchValue:1}),"Invalid Scratch file info packet header.")}}Ye.initConstructor(Gn);class Wn{constructor(t){this.buffer=t,this.stream=new Wt(t),this.signature=this.stream.readStruct(Vn),this.signature.validate(),this.infoHeader=this.stream.readStruct(Gn),this.infoHeader.validate(),this.stream.position+=this.signature.infoByteLength-Gn.size,this.dataHeader=this.stream.readStruct(Gn),this.dataHeader.validate()}get json(){return Xn({info:this.info(),stageData:this.data(),images:this.images(),sounds:this.sounds()})}get zip(){return(({images:t,sounds:e})=>{const n={};let r=0;for(const e of t)n[`${r++}.${i=e,"uncompressed"===i.extension?"png":"jpg"}`]={bytes:zn(e)};var i,o;r=0;for(const t of e)n[r+++".wav"]={bytes:(o=t,o.wavEncodedData)};return new Fn(n)})({images:this.images(),sounds:this.sounds()})}view(){return{signature:this.signature,infoHeader:this.infoHeader,dataHeader:this.dataHeader,toString:()=>"SB1File"}}infoRaw(){return new $t(new Ue(this.buffer,this.infoHeader.offset+Gn.size),this.signature.infoByteLength+Vn.size)}infoTable(){return new Sn(this.infoRaw())}info(){return this._info||(this._info=new An(this.infoTable()).table[0]),this._info}dataRaw(){return new $t(new Ue(this.buffer,this.dataHeader.offset+Gn.size),this.stream.uint8a.length)}dataTable(){return new Sn(this.dataRaw())}dataFixed(){return this._data||(this._data=new An(this.dataTable()).table),this._data}data(){return this.dataFixed()[0]}images(){const t=new Set;return this.dataFixed().filter((e=>e instanceof an&&(!t.has(e.crc)&&(t.add(e.crc),!0))))}sounds(){const t=new Set;return this.dataFixed().filter((e=>e instanceof un&&(!t.has(e.crc)&&(t.add(e.crc),!0))))}}var $n=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};M(u(class extends d{constructor(){super(),this.state={logs:[]}}componentDidMount(){this.log("Waiting for input...")}render(){return u("div",{class:"io"},u("div",{class:"in box"},u("h1",null,"Input"),u("p",null,"Paste a Scratch project URL or ID:"),u(j,{onProjectID:this.handleProjectID.bind(this)}),u("p",null,"Or load a project from a file:"),u("input",{class:"file",type:"file",onInput:this.handleFile.bind(this)})),u("div",{class:"out box"},u("h1",null,"Output"),u("ul",{class:"log"},this.state.logs)))}log(t){console.log(t),t instanceof Error&&(t=t.toString()),this.setState((({logs:e})=>({logs:[...e,u("li",null,t)]})))}handleProjectID(t){return $n(this,void 0,void 0,(function*(){const e=yield fetch(`https://projects.scratch.mit.edu/${t}`);if(!e.ok)return void this.log(`Project "${t}" could not be retrieved`);const n=yield e.arrayBuffer(),r=yield this.readProject(t,n);r&&this.writeProject(t,r)}))}handleFile(t){const e=t.target.files[0],n=e.name.replace(/\..*$/,""),r=new FileReader;r.addEventListener("load",(()=>$n(this,void 0,void 0,(function*(){const t=yield this.readProject(n,r.result);t&&this.writeProject(n,t)})))),r.readAsArrayBuffer(e)}readProject(t,e){return $n(this,void 0,void 0,(function*(){let n,r;this.log(`Reading project "${t}"`);try{r=JSON.parse((new TextDecoder).decode(new Uint8Array(e))),n=new z}catch(t){try{n=yield(new D).load(e);const t=yield n.file("project.json").text();r=JSON.parse(t)}catch(t){try{const t=new Wn(e);r=t.json,n=new U(t.zip)}catch(t){return this.log("Invalid project"),null}}}const i=new jt;try{yield i.readProject(t,r,n,this.log.bind(this))}catch(t){return this.log(t),null}return i}))}writeProject(t,e){this.log(u("span",null,"Writing Snap",u("i",null,"!")," XML"));try{const r=(n=e.toXML(),(new XMLSerializer).serializeToString(n)),i=URL.createObjectURL(new Blob([r],{type:"text/xml"})),o=()=>{window.open("https://snap.berkeley.edu/snap/snap.html#open:"+encodeURIComponent(r),"_blank")};this.log(u("span",null,"Success! ",u("a",{href:"#",onClick:o},"Click here to open your project in Snap",u("i",null,"!"))," (your browser may block this link), or ",u("a",{href:i,download:t+".xml"},"click here to download your project.")))}catch(t){this.log(t.toString())}var n}},null),document.getElementById("app"))})()})(); // Last updated on 2022-December-21